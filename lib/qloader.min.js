function ValidateImport(){for(var n,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];for(n=0;n<t.length;n++)if(t[n]==undefined)t.splice(n,1);else continue}var exports={},__global={},envirenment,clone,$,$defineProperty,$bench,ModuleExt,ModuleStat,System;(function(n){function f(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)}function u(n){for(var t=n,i;t;){if(i=getComputedStyle(t).overflowY,i=="auto")return t;t=t.parentElement}}function e(n,t){return t instanceof HTMLElement?n===t.id?t:o(n,t):t instanceof Element?t.id==n?t:undefined:undefined}function o(n,t){var f=new Array(1e3),r,e,u,o,i;for(f[0]=t,r=0;r>=0;)for(e=f[r--],u=0,o=e.children.length;u<o;u++){if(i=e.children[u],i.id===n)return i;i instanceof HTMLElement&&(f[++r]=i)}}function s(n,t){return(n=n.toUpperCase(),t instanceof HTMLElement)?h(n,t):t instanceof Element?t.tagName===n?[t]:[]:[]}function h(n,t){var f=new Array(1e3),e,r,o,u,s,i;for(e=n===t.tagName?[t]:[],f[0]=t,r=0;r>=0;)for(o=f[r--],u=0,s=o.children.length;u<s;u++)i=o.children[u],i.tagName===n&&e.push(i),i instanceof HTMLElement&&(f[++r]=i);return e}function c(n,t){return t instanceof HTMLElement?l(n,t):t instanceof Element?t.classList.contains(n)?[t]:[]:[]}function l(n,t){var f=new Array(1e3),r,e,o,u,s,i;for(f[0]=t,r=0,e=t.classList.contains(n)?[t]:[];r>=0;)for(o=f[r--],u=0,s=o.children.length;u<s;u++)i=o.children[u],i.classList.contains(n)&&e.push(i),i instanceof HTMLElement&&(f[++r]=i);return e}function a(n,t){return t instanceof HTMLElement?v(n,t):t instanceof Element?t.hasAttribute(n)?[t]:[]:[]}function v(n,t){var f=new Array(1e3),e,r,o,u,s,i;for(e=t.hasAttribute(n)?[t]:[],f[0]=t,r=0;r>=0;)for(o=f[r--],u=0,s=o.children.length;u<s;u++)i=o.children[u],i.hasAttribute(n)&&e.push(i),i instanceof HTMLElement&&(f[++r]=i);return e}var r,i,y,t;$defineProperty=function(n,t,i,r){try{return Object.defineProperty(n,t,i)}catch(u){return r&&r(n,t,i),!1}};__global={supportTemplate:function(){return"content"in document.createElement("template")}(),useListenerOrMutation:!0,GetApiAddress:function(n){return __global.ApiServer?__global.ApiServer.Combine(n).toString():n},CaseSensitive:!1,https:!1,ApiServer:undefined};r=function(n,t){function r(){this.constructor=n}$defineProperty(n,"base",{value:t,writable:!1,enumerable:!0,configurable:!1});for(var i in t)i!="base"&&i.indexOf("_")!==0&&i!="ctor"&&t.hasOwnProperty(i)&&(n[i]=t[i]);n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)};$defineProperty(n,"__extends",{get:function(){return r},set:function(){},configurable:!1,enumerable:!1},function(){__extends=r});i=i=!!(typeof n!="undefined"&&typeof navigator!="undefined"&&n.document);envirenment={isBrowser:i,isWebWorker:!i&&typeof importScripts!="undefined",isOpera:typeof n.opera!="undefined"&&n.opera.toString()==="[object Opera]",isChromeApp:document.location.protocol==="chrome-extension:",isMobile:!!f()};__global.supportTemplate||$defineProperty(HTMLUnknownElement.prototype,"content",{get:function(){return this}});clone=function(n){var i,t;if(!n)return n;if(typeof n=="object"){i=n.constructor();for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}return n instanceof Array?n.splice(0):n};Element.prototype.getScrollArea=function(){return u(this)};Object.clone=clone;Element.prototype.scrollIntoViewIfNeeded==void 0&&(Element.prototype.scrollIntoViewIfNeeded=function(){var n=this.getBoundingClientRect(),t=u(this);if(!t){this.scrollIntoView({inline:"center"});return}var r=document.body,i=(t||r).getBoundingClientRect(),f=this.getBoundingClientRect(),e=new IDBDatabase;i.top-n.top>0?t.scrollTop-=i.top-n.top:i.bottom<n.bottom&&(t.scrollTop-=i.bottom-n.bottom)});String.prototype.endsWith===void 0&&(String.prototype.endsWith=function(n){return this.indexOf(n,this.length-n.length)!==-1});String.prototype.startsWith===void 0&&(String.prototype.startsWith=function(n){return this.indexOf(n)===0});HTMLElement.prototype.remove===void 0&&(HTMLElement.prototype.remove=function(){this.removeNode(!0)});HTMLElement.prototype.parent===void 0&&(HTMLElement.prototype.parent=function(){return this.parentElement||this.parentNode});HTMLElement.prototype.insertChildAtIndex=function(n,t){var i=this.children.length;t<i?this.insertBefore(n,this.children.item(t)):this.appendChild(n)};$=function(n,t){var u=document.body,f=document,i,r;return(t=t===f?u:t||u,i=t===u,r=n[0]||"",r==="#")?i?document.getElementById(n.substr(1)):e(n.substr(1),t):r==="."?i?document.getElementsByClassName(n.substr(1)):c(n.substr(1),t):r==="["?a(n.substr(1,n.length-2),t):i?document.getElementsByTagName(n):s(n,t)};DocumentFragment.prototype.hasOwnProperty("firstElementChild")||$defineProperty(DocumentFragment.prototype,"firstElementChild",{get:function(){for(var t=this.children||this.childNodes,n=0;n<t.length;n++)if(t[n]instanceof Element)return t[n];return null},configurable:!1});typeof DOMParser=="undefined"&&(n.DOMParser=function DOMParser(){this.parseFromString=function(t,i){if(/^\s*text\/html\s*(?:;|$)/i.test(i)){var r=document.implementation.createHTMLDocument("");return t.toLowerCase().indexOf("<!doctype")>-1?r.documentElement.innerHTML=t:r.body.innerHTML=t,r}return n.DOMParser.prototype.nativeParse.apply(this,arguments)},function(n){"use strict";var t=n.prototype,i=t.parseFromString;try{if((new n).parseFromString("","text/html"))return}catch(r){}t.parseFromString=function(n,t){if(/^\s*text\/html\s*(?:;|$)/i.test(t)){var r=document.implementation.createHTMLDocument("");return n.toLowerCase().indexOf("<!doctype")>-1?r.documentElement.innerHTML=n:r.body.innerHTML=n,r}return i.apply(this,arguments)}}(DOMParser)});n.stop=function(){y};envirenment.isChromeApp?(t={},n.localStorage={key:function(n){return Object.keys(t)[n]},clear:function(n){chrome.storage.local.clear(n)},getItem:function(n,i){return chrome.storage.local.get(n,i),t[n]},get length(){return Object.keys(t).length},setItem:function(n,i,r){t[n]=i;var u={};u[n]=i;chrome.storage.local.set(u,r)},removeItem:function(n,i){delete t[n];t[n]=void 0;chrome.storage.local.remove(n,i)}}):typeof localStorage=="undefined"&&(t={},n.localStorage={setItem:function(n,i){t[n]=i},getItem:function(n){return t[n]},clear:function(){},key:function(n){return t[n]},length:0,removeItem:function(){}})})(window);var __extends=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),enumProperty=/\w*\[\w*\[\"([^\"]*)\"\]\s*=\s*([^\]]*)[^;]*;/gmi,enumPropertyEs6="$1=$2,",ModuleType;(function(n){n[n.folder=9007199254740991]="folder";n[n.uknown=-1]="uknown";n[n.code=0]="code";n[n.json=1]="json";n[n.xml=2]="xml";n[n.html=3]="html";n[n.Image=4]="Image";n[n.template=5]="template";n[n.style=6]="style";n[n.none=7]="none"})(ModuleType||(ModuleType={})),function(n){n[n.js=0]="js";n[n.json=1]="json";n[n.xml=2]="xml";n[n.html=3]="html";n[n.img=4]="img";n[n.template=5]="template";n[n.svg=6]="svg";n[n.ico=6]="ico";n[n.css=6]="css";n[n.none=7]="none"}(ModuleExt||(ModuleExt={})),function(n){n[n.New=0]="New";n[n.Downloading=1]="Downloading";n[n.Downloaded=2]="Downloaded";n[n.Defining=3]="Defining";n[n.Defined=4]="Defined";n[n.Executing=5]="Executing";n[n.Executed=6]="Executed";n[n.Failed=7]="Failed";n[n.Forbidden=111]="Forbidden"}(ModuleStat||(ModuleStat={})),function(n){function y(){for(var t,i=[],n=0;n<r.length;n++)t=r[n].checkOverflow(),t.length!=0&&i.push([r[n],t]);return i}function p(){for(var t,i=[],n=0;n<r.length;n++)t=r[n],t.Stat<6&&i.push(t);return i}function l(){return e.Args.getUnExecuted()}function w(){return e.Args.getUnSuccessed()}function b(){function i(i){for(var r,u=0;u<n.length;u++)if(r=n[u],r.m===i)return r;return n.push(r={a:i.FullName,m:i,r:[],push:function(n){if(this.r.indexOf(n)===-1){this.r.push(n);var i=t.indexOf(n);i!==-1&&t.splice(i,1)}}}),t.push(r),r}var t=[],n=[];return l().forEach(function(n){var t=i(n.m);n.r.forEach(function(n){i(n).push(t)})},[]),n}function a(){var n=[];return t.collectAssets(n,[]),n}function k(n){var i=t.FullName,r=[];return a().map(function(t){var e,u,f;return r.indexOf(t.Folder)==-1?(e=t.Folder.FullName.replace(i,""),u="mkdir "+n+e,r.push(t.Folder)):u="",f=t.FullName.replace(i,""),u+"\r\n copy "+f+" "+n+f})}var f=function(n,t){if(t==null)return n;n==null&&(n={});for(var i in t)n[i]=t[i];return n},r=[],h=[],i,u,e,s,t,c,v,o;(function(n){var t=function(){function n(n){this.init(n||"")}return n.prototype.IsEquals=function(n){if(!this.SameHostAs(n)||this._path.length!==n._path.length||this.moduleName!=n.moduleName||this.ext!=n.ext||this.moduleType!=this.moduleType)return!1;for(var t=0;t<this._path.length;t++)if(this._path[t]!=n._path[t])return!1;return!0},Object.defineProperty(n.prototype,"Directory",{get:function(){return this._directory||(this._directory=new n(this.getDirectory()))},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ParentDirectory",{get:function(){if(this.IsFolder){var t;return t=this.IsExternal?this.host+"/":this.IsRooted?"/":"",this.path.length>1&&(t+=this._path.slice(0,this._path.length-1).join("/")+"/"),new n(t)}return this.Directory},enumerable:!0,configurable:!0}),n.prototype.getmoduleType=function(n){var t,i;return this.IsFolder?ModuleType.folder:(t=this.ext,t==null||t=="")?typeof n=="number"?n:ModuleType.none:(i=ModuleExt[t],i==null)?ModuleType[this.PluginName]||ModuleType.uknown:i},Object.defineProperty(n.prototype,"moduleType",{get:function(){var n,t;return this.IsFolder?ModuleType.folder:(n=this.ext,n==null||n=="")?ModuleType.none:(t=ModuleExt[n],t==null)?ModuleType[this.PluginName]||ModuleType.uknown:t},enumerable:!0,configurable:!0}),n.prototype.getEName=function(n){var i,t;return this.IsFolder?"":(i=this.ext,n=this.moduleType==ModuleType.none?n:this.ext||ModuleExt[this.moduleType],t=this.moduleName,n&&(t+="."+n),this.params&&(t+="?"+this.params),t)},n.prototype.setDefaultExt=function(n){return(this.ext==null||this.ext=="")&&(this.ext=n),this},n.prototype.setDefaultType=function(n){return(this.ext==null||this.ext=="")&&(this.ext=ModuleExt[n]),this},Object.defineProperty(n.prototype,"IsPlugin",{get:function(){return this.PluginName!=null&&this.PluginName!=""},enumerable:!0,configurable:!0}),n.prototype.toString=function(){return this.getDirectory()+this.getEName()},n.prototype.getDirectory=function(){var n;return n=this.IsExternal?this.host+"/":this.IsRooted?"/":"",this.path.length>0&&(n+=this.path.join("/")+"/"),n},Object.defineProperty(n.prototype,"IsContextual",{get:function(){return!this.IsPlugin&&this._isContextual},enumerable:!0,configurable:!0}),n.prototype.getUrl=function(n){var t=n.indexOf("?"),i=n.indexOf("#",t);return i!==-1&&(this.fragment=n.substr(i),n=n.substr(0,i)),t!==-1&&(this.params=n.substr(t+1),n=n.substr(0,t)),__global.CaseSensitive||(n=n.toLowerCase()),n},n.prototype.init=function(n){var i,u,t,r;return n=this.getUrl(n.trim()),this._directory=null,i=n.indexOf("|"),i!==-1&&(this.PluginName=n.substr(0,i),n=n.substr(i+1)),n.indexOf("//")===0?this.getHost(n=n.substr(2)):this.getFullHost(n),u=this.path.pop(),u?(this.IsFolder=!1,t=u,r=t.lastIndexOf("."),r!==-1?(this.ext=t.substr(r+1),this.moduleName=t.substr(0,r)):this.moduleName=t):this.IsFolder=!0,this},Object.defineProperty(n.prototype,"IsRooted",{get:function(){return this.host==="/"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsRelative",{get:function(){return!!this.IsExternal},enumerable:!0,configurable:!0}),n.prototype.getHost=function(n){var i,r,t;if(this._isContextual=!1,n===""){this.host="//";this.path=[];return}if(i=n.indexOf("://"),r=n.indexOf("/"),r<i){this.path=n.split("/");r===0&&(this.path.shift(),this.host="/");return}if(i===-1)throw" Invalid Url ";t=n.indexOf("/",i+3);this.host=t===-1?n:n.substr(0,t);this.path=t===-1?[""]:n.substr(t+1).split("/")},n.prototype.getFullHost=function(n){var i=n.indexOf("://"),r=n.indexOf("/"),t;this._isContextual=i==-1&&r!=0&&n[0]!=".";i===-1||r<i?(this.path=n.split("/"),r===0&&(this.path.shift(),this.host="/")):(t=n.indexOf("/",i+3),this.host=t===-1?n:n.substr(0,t),this.path=t===-1?[""]:n.substr(t+1).split("/"))},n.prototype.Combine=function(t){var i=typeof t=="string"?new n(t):t,r;return i.IsExternal?i:(r=new n,r.host=this.host,r.path=this.path==null?i.path:i.path==null?null:this.path.concat(i.path),r.moduleName=i.moduleName,r.ext=i.ext,r.params=i.params,r.PluginName=i.PluginName,r.IsFolder=i.IsFolder,r.fragment=i.fragment,r.params=i.params,r.isAsset,r)},Object.defineProperty(n.prototype,"IsExternal",{get:function(){return this.host!=null&&this.host!=""&&this.host!="/"},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isAsset",{get:function(){return this.moduleType!==ModuleType.code},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"path",{get:function(){return this._path},set:function(t){n.RevalidatePath(t,this.IsExternal);this._path=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"FullPath",{get:function(){return this.toString()},enumerable:!0,configurable:!0}),n.prototype.SameHostAs=function(t){var i=this.IsExternal?this.host:n.rootUrl.host,r=t.IsExternal?t.host:n.rootUrl.host;return i===r},n.RevalidatePath=function(n,t){if(n)for(var r,i=0;i<n.length;i++)if(r=n[i],r===".")n.splice(i,1),i-=1;else if(r==="..")if(t)i==0?(n.splice(i,1),i-=1):(n.splice(i-1,2),i-=2);else if(i===0||i===1&&n[2]===".."||n[i-1]==="..")continue;else i>0&&(n.splice(i-1,2),i-=2)},n.prototype.intersect=function(t){var i;if(!this.SameHostAs(t))return null;i=new n;i.host=this.host;var r=this.path,u=t.path,f=Math.min(r.length,u.length);return i},n.getUrl=function(t,i,r){return r&&t.unshift("."),new n(t.join("/")+"/"+(i?i:""))},n.prototype.getRelativePath=function(){function f(n,t){for(var i=[],r=0;r<t;r++)i.push(n);return i}var i,r,t,u;if(!this.IsExternal||(i=new n(document.URL),!this.SameHostAs(this)))return this;if(this.IsRooted&&i._path.length===0)return n.getUrl(this._path,this.getEName(),!0);for(r=Math.min(this._path.length,i._path.length),t=0;t<r;t++)if(i._path[t]!==this.path[t])return u=f("..",i._path.length-t),n.getUrl(u.concat(this.path.slice(t)),this.getEName(),!0);return n.getUrl(this.path.slice(r),this.getEName(),!0)},Object.defineProperty(n.prototype,"IsInternal",{get:function(){return this.IsExternal?n.rootUrl.SameHostAs(this):!0},enumerable:!0,configurable:!0}),n.rootUrl=new n(document.location.href),n}();n.Url=t})(i=n.basics||(n.basics={})),function(n){var s=function(){function n(n,t){this._key=n;this._value=String(t||"")}return Object.defineProperty(n.prototype,"key",{get:function(){return this._key},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),n}(),t,r,i,e,u,f,o;n.Header=s;t=function(){function n(n){this.key=n;this._deleagtes=[]}return Object.defineProperty(n.prototype,"On",{set:function(n){this._deleagtes.push(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Off",{set:function(n){var t=this._deleagtes.indexOf(n);t!=-1&&this._deleagtes.splice(t,1)},enumerable:!0,configurable:!0}),n.prototype.call=function(n,t,i,r){try{for(i++;i<r;i++)this._deleagtes[i].apply(n,t)}catch(u){}return i},n.prototype.PInvoke=function(n,t,i){var r=-1,u=this._deleagtes.length;if(n==this.key&&u>0)while(r<u)r=this.call(t,i,r,u)},n.prototype.Invok=function(n,t){var r=this._deleagtes.length,i;if(n==this.key&&r>0)for(i=0;i<r;i++)try{t(this._deleagtes[i])}catch(u){}},n.prototype.Add=function(n,t){this._store==null&&(this._store=[]);t&&this._store.push({k:t,d:n});this._deleagtes.push(n)},n.prototype.Remove=function(n){var t,i;if(this._store)for(t=0;t<this._store.length;t++)i=this._store[t],i.k==n&&(this._store.splice(t,1),t--)},n}();n.EventListener=t,function(n){n[n.json=0]="json";n[n.Document=1]="Document";n[n.Text=2]="Text";n[n.ArrayBuffer=3]="ArrayBuffer";n[n.Blob=4]="Blob";n[n[""]=8]=""}(r=n.ResponseType||(n.ResponseType={})),function(n){n[n.Get=0]="Get";n[n.Post=1]="Post";n[n.Head=2]="Head";n[n.Put=3]="Put";n[n.Delete=4]="Delete";n[n.Options=5]="Options";n[n.Connect=6]="Connect"}(i=n.WebRequestMethod||(n.WebRequestMethod={}));e=function(){function n(){this.http=new XMLHttpRequest;this._responseType=null;this.key={};this.OnComplete=new t(this.key);this._onprogress=this._onprogress.bind(this);this.http.onload=this._onprogress;this.http.onerror=this._onprogress}return Object.defineProperty(n.prototype,"method",{get:function(){return this._method==null?0:this._method},set:function(n){i[n]!=null&&(this._method=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ResponseType",{get:function(){return this._responseType||r.Text},set:function(n){this._responseType=n},enumerable:!0,configurable:!0}),n.prototype._onprogress=function(){if(this.http.readyState==4){var n=this.OnComplete;n&&n.PInvoke(this.key,null,[this])}else throw"";},Object.defineProperty(n.prototype,"IsSuccess",{get:function(){return this.http.status==200&&this.http.readyState==4},enumerable:!0,configurable:!0}),n.prototype.Download=function(n,t){this.http.open(i[this.method],n.toString(),!0);this.http.setRequestHeader("allow-cross-origin","*");var u=this.http;u.setRequestHeader("Access-Control-Allow-Headers","*");u.setRequestHeader("Content-type","*");u.setRequestHeader("Access-Control-Allow-Origin","*");this.http.responseType=r[this.ResponseType].toLowerCase();this.method==i.Get?this.http.send():this.http.send(t.data)},Object.defineProperty(n.prototype,"Response",{get:function(){return this.http.response},enumerable:!0,configurable:!0}),n}();n.WebRequest=e;u=function(){function n(n,t,i){this.callback=n;this.data=t;this.isPrivate=i;this.callback=n;this.data=t;this.isPrivate=i;this.IsSuccess=null;i==void 0&&(i=!1)}return n}();n.downloadCallback=u;f=function(){function n(n,t){this.url=n;this.data=t}return n}();n.__data=f;o=function(){function i(){this.quee=[];this.isRunning=!1;this.isDownloading=!1;this.success=[];this.fails=[];this.OnSuccess=new t(1);this.OnFail=new t(1);this.OnFinish=new t(1);this.webr=new n.WebRequest;this.quee=[];this.isRunning=!1;this.isDownloading=!1;this.success=[];this.fails=[];this.OnSuccess=new t(1);this.OnFail=new t(1);this.OnFinish=new t(1);this.webr.method=n.WebRequestMethod.Get;this.webr.ResponseType=n.ResponseType.Text;this.webr.OnComplete.Add(this.DownloadComplete.bind(this),"DCT")}return Object.defineProperty(i.prototype,"Request",{get:function(){return this.webr},enumerable:!0,configurable:!0}),i.prototype.DownloadComplete=function(){var i,r,n,t;this.isDownloading=!1;this.webr.IsSuccess?(i=this.OnSuccess,this.success.push(this.current)):(i=this.OnFail,this.fails.push(this.current));try{if(r=!0,n=this,n.current.data instanceof u){try{t=n.current.data;t.IsSuccess=n.webr.IsSuccess;t.callback instanceof Function&&t.callback(this,t)}catch(f){}r=!t.isPrivate}r&&i.PInvoke(1,null,[n,n.current.data])}catch(e){}this.Next()},i.prototype.Push=function(n,t){this.quee.push(new f(n,t));this.isRunning||this.Start()},i.prototype.Start=function(){this.isDownloading||(this.isRunning=!0,this.Next())},i.prototype.Next=function(){var n,t;if(0==this.quee.length){this.isRunning=!1;this.isDownloading=!1;n=this;this.OnFinish.PInvoke(1,null,[n,n.current.data]);return}t=this.current=this.quee.shift();this.webr.Download(t.url,t.data);this.isDownloading=!0},i.prototype.Restart=function(){this.isDownloading=!1;this.Start()},i}();n.Downloader=o}(u=n.net||(n.net={})),function(e){function pt(){var r,n;c=new u.Downloader;o=new ft;s=new l("/",new i.Url("//"));r=i.Url.rootUrl.path.slice();r.unshift(i.Url.rootUrl.host);n=i.Url.rootUrl;n.IsFolder||(n=n.Directory);t=new l(r.join("/"),n);s.Stat=p.Executed;v=[];g=[];y.Init();window.global={root:t,global:s}}var st=0,a={},g=[],b=function(){function n(){}return n.set=function(n,t){var i=this.keys.length;this.keys.push(n);this.values[i]=t},n.get=function(n){var t=this.keys.indexOf(n);return t===-1?undefined:this.values[t]},n.getkey=function(n){var t=this.values.indexOf(n);return t===-1?undefined:this.keys[t]},n.registerNativeTypes=function(){for(var i,n,r=Object.getOwnPropertyNames(window),t=0;t<r.length;t++)i=r[t],n=Object.getOwnPropertyDescriptor(window,i),n=n.value,n&&n.prototype&&n.prototype.constructor===n&&(this.keys.push(n),this.values.push(i));delete this.registerNativeTypes},n.keys=[],n.values=[],n}(),d,y,k,p,tt,l,rt,ut,ot,ft,w;e.dic=b;b.registerNativeTypes();var nt={},ht=Object.freeze,ct=function(){function n(n,t){this._id=t++;nt[this._id]={count:typeof t!="number"?1:t,vaue:n};ht(this)}return Object.defineProperty(n.prototype,"Value",{get:function(){var n=nt[this._id];return n?(--n.count<=0&&delete nt[this._id],n.vaue):undefined},enumerable:!0,configurable:!0}),n}();e.SecureValue=ct;d=function(){function n(n){this.context=this;var t=++st;$defineProperty(this,"Id",{value:t,writable:!1,configurable:!1});a[t]={Module:n};Object.freeze(this);Object.preventExtensions(this);Object.seal(this)}return Object.defineProperty(n.prototype,"CanAccessToMe",{set:function(n){if(n instanceof Function){var t=a[this.Id];$defineProperty(t,"CanAccessToMe",{value:n,writable:!1,configurable:!1})}},enumerable:!0,configurable:!0}),n.prototype.canAccessToMe=function(n,t,i){var r=a[this.Id];return r.CanAccessToMe?r.CanAccessToMe(n,t,i):!0},n.prototype.GetPath=function(n){var t=a[this.Id];return t.Module.Folder.FullName+(n.startsWith("/")?n.substring(1):n)},n.prototype.NameOf=function(n){var t=a[this.Id];return t.Module.NameOf(n)},n.prototype.GetType=function(n){if(n==null)return null;var t=a[this.Id];return t.Module.GGetType(n)},n.prototype.GetEnum=function(n){if(n==null)return null;var t=a[this.Id];return t.Module.GGetEnum(n)},n.prototype.GetStat=function(n){if(n==null)return null;var t=a[this.Id];return t.Module.GetStat()},n.prototype.OnStat=function(n,t,i){var r=a[this.Id];return r.Module.OnStatChanged(n,t,i)},n.prototype.OnGStat=function(n,t){var i=a[this.Id];return i.Module.OnGStatChanged(n,t)},n.prototype.GetTemplateRoot=function(n){var u=a[this.Id],t=u.Module.Folder,r;return typeof n=="string"&&(r=new i.Url(n),t=k.NavigateTo(r.path,t),n=r.getEName(),!t)?undefined:t instanceof y?t.getRooteOfTemplate(n):void 0},n.prototype.SetSuperVisor=function(n){var t=a[this.Id];t.Module.RootFolder.SuperVisor=n},n}();e.Context=d;$defineProperty(d.prototype,"__extends",{value:window.__extends,writable:!1,configurable:!1,enumerable:!1});y=function(){function u(n,t,i){if(this.folder=n,this.Url=t,this._folderContext=i,this._stat=ModuleStat.New,this.Script="",this._onExecuted=[],r.push(this),t.setDefaultType(ModuleType.code),this.exports=new it,this._stat=ModuleStat.New,this.Script="",this._thisContext=new d(this),this.loadLib=this.loadLib.bind(this),n==null)throw"Context errro";this.require=this.require.bind(this);this._listeners=[]}return Object.defineProperty(u.prototype,"Folder",{get:function(){return this.folder},set:function(n){this.folder=n},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"ResourceUrl",{get:function(){return new i.Url(this.FullName).setDefaultType(ModuleType.code)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"FolderContext",{get:function(){return this._folderContext||this.Folder},enumerable:!0,configurable:!0}),u.prototype.call=function(n,t,i,r){return n._thisContext.canAccessToMe(this.Url.moduleType,this.Folder.FullName,this.EName)?t?r==null?t(n.exports):t.call(r,n.exports):n.exports:i?r==null?i("access denied"):i.call(r,"access denied"):null},u.prototype.require=function(n,t,r,u){var f=new i.Url(n);return(f.IsPlugin?this.Folder:this.FolderContext)._require(n,t,r,u)},u.prototype.loadLib=function(n,t){var r=n.indexOf("|"),u=n.substr(0,r),i=n.substr(r+1);return t(i.indexOf("*")==0)&&(i=i.substr(1)),this.RootFolder.LoadAssembly(this.Folder,i,u)},Object.defineProperty(u.prototype,"OnExecuted",{set:function(n){typeof n=="function"&&(n={callback:n,Owner:this});this._stat>=ModuleStat.Executed?n.callback.call(n.Owner,this,n):this._onExecuted.push(n)},enumerable:!0,configurable:!0}),u.prototype.checkOverflow=function(){var n=[];return u.checkOverflow(this,this,n,[]),n.length!=0&&console.log(this.FullName),n},u.checkOverflow=function(n,t,i,r){var f,e,o;if(r.indexOf(t)===-1&&(r.push(t),t.args)&&(f=t.args.Dependencies,f))for(e=0;e<f.length;e++)o=f[e].module,o===n?i.push({module:n,arg:f[e]}):o instanceof u&&u.checkOverflow(n,o,i,r)},u.prototype.onModuleExecuted=function(){var n=r.indexOf(this),i,t;for(n!==-1&&r.splice(n,1),i=this._onExecuted.splice(0),n=0;n<i.length;n++)t=i[n],t.callback&&t.callback.call(t.Owner,this,t)},u.prototype.NameOf=function(n){return t.NameOf(n)},u.prototype.GGetType=function(n){var i=b.getkey(n);return i!=null?i:(i=t.GetType(n.split(".")),i===undefined)?undefined:(b.set(i,n),i)},u.getNativeTypes=function(){for(var r,n,i=Object.getOwnPropertyNames(window),t=0;t<i.length;t++)r=i[t],n=window[t],n&&n.prototype&&n.prototype.constructor===n&&b.set(n,r)},u.isConstructor=function(n){return n&&n.prototype&&n.prototype.constructor===n},u.prototype.GGetEnum=function(n,i){var r,o,f,e,s;if(i){for(o=this.args.Dependencies,f=0;f<o.length;f++)if(e=o[f].module,e instanceof u&&e.Url.moduleType===ModuleType.code&&(s=e.GetEnum(n.split(".")),s))return s}else return(r=b.getkey(n),r!=null)?r:(r=t.getRadical().GetEnum(n.split(".")),r===undefined)?undefined:(b.set(r,n),r)},u.prototype.GetStat=function(){return this._stat},u.prototype.OnStatChanged=function(n,t,i){var f=n?this.GetModule(n):this,u=f.Stat,r;if(u>=t)if(r=i(this,n,u,t),typeof r=="number"){if(r<=u)return;t=r}else return;f._listeners.push({t:this,m:n,s:t,c:i})},u.prototype.OnGStatChanged=function(n,t){g.push({t:this,m:this,s:n,c:t})},u.prototype.GetType=function(n){for(var t=this.exports,i=0;i<n.length;i++)if(t=t[n[i]],t===undefined)return undefined;return t instanceof Function?t:undefined},u.prototype.GetEnum=function(n){for(var t=this.exports,i=0;i<n.length;i++)if(t=t[n[i]],t===undefined)return undefined;return typeof t=="object"?t:undefined},u.prototype.onStatChanged=function(n,t){for(var i,u,r=0;r<this._listeners.length;r++)if(i=this._listeners[r],i.s>n&&i.s<=t){try{if(u=i.c(i.t.FullName,this.FullName,t,i.s),typeof u=="number"&&u>i.s){i.s=u;continue}}catch(f){}this._listeners.splice(r,1);r--}},u.prototype.onGStatChanged=function(n,t){for(var i,u,r=0,f=g;r<f.length;r++)if(i=f[r],i.s>n&&i.s<=t)try{u=i.c(i.t.FullName,this.FullName,t,i.s);typeof u=="number"&&u>i.s&&(i.s=u)}catch(e){}},Object.defineProperty(u.prototype,"Stat",{get:function(){return this._stat},set:function(n){if(n!=this._stat&&!(n<this._stat)){var t=this._stat;this._stat=n;n>=ModuleStat.Executed&&this.onModuleExecuted();this.onStatChanged(t,n);this.onGStatChanged(t,n);n==7&&(this._stat=0,this._fn=null)}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"Name",{get:function(){return this.Url.moduleName},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"EName",{get:function(){return this.Url.getEName(this.Url.isAsset?undefined:"js")},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"FullName",{get:function(){return this._fn==null&&(this._fn=this.Folder.FullName+this.EName),this._fn},enumerable:!0,configurable:!0}),u.loadEntryPoint=function(i){var e=i||document.currentScript,u=e.getAttribute("entry-point"),r,f;if(u!=undefined){if(e.removeAttribute("entry-point"),r=new n.basics.Url(u),r.IsPlugin)if(u.indexOf("lib:")===0)t._stat=p.Executed,f=t.LoadAssemblyByUrl(r),f.OnExecuted=function(n){n.EntryPoint&&(f.EntryPoint.OnExecuted=function(n){var t=n.exports;n.Stat===6?t.Start&&t.Start():alert("we cannot find app")})};else throw"";else t.LoadEntryPoint(r);return!0}return!1},u.Init=function(){var t,n,i;if(!document.currentScript||!this.loadEntryPoint())for(t=Array.prototype.slice.call(document.getElementsByTagName("script"),0),n=0;n<t.length;n++)if(i=t[n],this.loadEntryPoint(i))return},Object.defineProperty(u.prototype,"RootFolder",{get:function(){return this.Folder.Root},enumerable:!0,configurable:!0}),u.prototype.GetModule=function(n){return typeof n=="string"&&(n=new i.Url(n)),(!n.IsContextual||this.Url.isAsset?this.Folder:this.FolderContext).GetModule(n)},u.id=0,u}();e.Module=y;k=function(){function n(t,i){if(this.Parent=t,this.Name=i,t===n.Me&&(this.Parent=this),this.Modules=new et,this.Assets=new et,this.subFolders=new lt(this),this.require=this.require.bind(this),this.define=this.define.bind(this),this.define.amd={},t==null)throw"Parent is null";}return n.prototype.LoadAssemblyByUrl=function(n){if(!n.IsPlugin)throw"";var i=n.PluginName.substr(4,n.PluginName.length-4),t=n.FullPath;return t.indexOf("*")==0&&(t=t.substr(1)),this.Root.LoadAssembly(this,t,i)},Object.defineProperty(n.prototype,"ResourceUrl",{get:function(){return new i.Url(this.FullName)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"IsAssemby",{get:function(){return this instanceof l},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Root",{get:function(){for(var n=this;!(n instanceof l);)n=n.Parent;return n},enumerable:!0,configurable:!0}),n.prototype.GetFolder=function(n,t){if(!n)return this;var r=n.path,i;return i=n.IsExternal?n.IsInternal?this.Root:s.createPath([n.host],t):n.IsRooted?this.Root:this,i.createPath(n.path,t)},n.prototype.GetModule=function(n){if(typeof n=="string"&&(n=new i.Url(n)),n.IsFolder)throw"Invalid FileName Path :"+n.FullPath;n.setDefaultType(ModuleType.code);var r=this.GetFolder(n),u=n.isAsset===!0?r.Assets:r.Modules,t=u.getModule(n);return t==null&&(u.setModule(t=new y(r,n,this)),this.Root.OnModuleExecuting(t)),t},Object.defineProperty(n.prototype,"FullName",{get:function(){if(!this._fn){if(this==this.Parent)return this._fn=this.Name+"/";var n=this.Parent;this._fn=(n==null?"":n.FullName)+this.Name+"/"}return this._fn},enumerable:!0,configurable:!0}),n.prototype.createPath=function(t,i){return n.CreatePath(t,this,i)},n.prototype.NafigateTo=function(t){var r=new i.Url(t),u=n.NavigateTo(r.path,this);return u&&r.moduleName?u.GetModule(r.getEName()):u},n.NavigateTo=function(n,i){for(var r,e,u=0,f=n.length;u<f;u++){r=n[u];r=r.trim();switch(r){case"~":i=t;break;case"":case".":continue;case"..":i=i&&i.Parent;continue;default:if(i){if(e=i.subFolders.GetFolder(r),!e)return undefined;continue}else return undefined}}return i},n.CreatePath=function(i,r,u){var e,s,f,o;if(!i)return r;for(e=0,s=i.length;e<s;e++){if(u&&!r)return undefined;f=i[e];f=f.trim();switch(f){case"~":r=t;break;case"":case".":continue;case"..":r=r&&r.Parent;continue;default:if(r){o=r.subFolders.GetFolder(f);r=o?o:u?null:r.subFolders.createFolder(f);continue}else r=u?null:new n(null,f)}}return r},n.prototype._nameOf=function(n){var u=this.Modules._store,f,r,i,e,t;for(i in u)if(f=u[i],t=vt.GetType(n,f.exports),t!=null)return t;r=this.subFolders._store;for(i in r)if(e=r[i],t=e._nameOf(n),t!=null)return t},n.prototype.NameOf=function(n){var t=b.get(n);return t!=undefined?t:(t=this._nameOf(n),t!=null&&b.set(n,t),t)},n.prototype.GetType=function(n){var u=this.Modules._store,f,r,i,e,t;for(i in u)if(f=u[i],t=f.GetType(n),t!==undefined)return t;r=this.subFolders._store;for(i in r)if(e=r[i],t=e.GetType(n),t!==undefined)return t;return undefined},n.prototype.GetEnum=function(n){var u=this.Modules._store,f,t,r,i,e;for(i in u)if(f=u[i],t=f.GetEnum(n),t!==undefined)return t;r=this.subFolders._store;for(i in r)if(e=r[i],t=e.GetEnum(n),t!==undefined)return t;return undefined},n.prototype.getRadical=function(){var n=this,t=n;do{if(t=n.Parent,!t||n==t)return n;n=t}while(1)},n.prototype.define=function(){var r=arguments[0],t=0,n;if(typeof arguments[0]=="string"){if(n=this.GetModule(arguments[0]),n.Stat>2)throw"module "+n.FullName+" exist";n._folderContext=this;n.Stat=ModuleStat.Downloaded}else t=-1,n=new y(this,new i.Url("code|@anonymouse"+ ++this.anonymouseCounter+".js"),this);this.Root.CheckIfToSkip(n)?n.Stat=ModuleStat.Executing:w.CodeManager.asyncLoadDependencies(n,arguments[1+t],arguments[2+t])},n.prototype.require=function(){return typeof arguments[1]!="string"?this._require.apply(this,arguments):l.prototype.LoadAssembly.call(this.Root,this,arguments[0],arguments[1],arguments[2])},n.prototype._require=function(n,t,i,r){var u,f;if(typeof n=="string")return(u=this.GetModule(n),u.Stat==ModuleStat.Executed)?this.call(u,t,i,r):u.Stat==ModuleStat.Failed?i&&i.call(r,"module failed to execute"):(u.Stat>=ModuleStat.Downloading?(f=Date.now(),u.OnExecuted={callback:function(n){this.call(n,t,i,r)},Owner:this}):u.Stat==ModuleStat.New&&(u.OnExecuted={callback:function(n){this.call(n,t,i,r)},Owner:this},o.Download(u)),null)},n.prototype.call=function(n,t,i,r){return n._thisContext.canAccessToMe(-1,this.FullName,this.Name)?t?r==null?t(n.exports):t.call(r,n.exports):n.exports:i?r==null?i("access denied"):i.call(r,"access denied"):null},n.prototype.getRooteOfTemplate=function(n,t){var r,e,u,i,o,f;if(t){if(t.indexOf(this)!==-1||this==null)return}else t=[];t.push(this);for(i in this.Assets._store)if(r=this.Assets._store[i],r.Url.moduleType===ModuleType.template&&(e=r.exports,u=e.template.get(n),u))return u;for(i in this.subFolders._store)if(o=this.subFolders._store[i],f=o.getRooteOfTemplate(n,t),f)return f;if(this.Parent)return this.Parent.getRooteOfTemplate(n,t)},n.prototype.ConvertToAssembly=function(n,t){if(this instanceof l)return this;var i=new l(n,t);return i.Replace(this,null)},n.prototype.Replace=function(n,i){var e,r,f,u,o;if(n){this.subFolders._store=n.subFolders._store;this.Modules._store=n.Modules._store;this.Assets._store=n.Assets._store;for(r in n.subFolders._store)e=this.subFolders._store[r],e instanceof l||(e.Parent=this);for(r in n.Modules._store)f=n.Modules._store[r],f.Folder=this;for(r in n.Assets._store)f=n.Assets._store[r],f.Folder=this;u.subFolders.deleteFolder(n);u=i||n.Parent}else if(i)u=i;else throw"unvalid arguments";return this instanceof l||(this.Parent=u),o=t.GetFolder(this.ResourceUrl.ParentDirectory),u.subFolders.register(this),o!=u&&o.subFolders.register(this),this},n.prototype.collectAssets=function(n,t){var i;if(t.indexOf(this)!=-1)return!0;for(i in this.subFolders._store)this.subFolders._store[i].collectAssets(n,t);for(i in this.Assets._store)n.push(this.Assets._store[i])},n.Me={},n}(),function(n){n[n.New=0]="New";n[n.Executing=1]="Executing";n[n.Executed=2]="Executed"}(p=e.AssemblyStat||(e.AssemblyStat={})),function(n){function i(n,i){var r=n.FullPath.toLowerCase();if(r){if(i!=t[r])throw"Conflit assembly";}else t[n.FullPath.toLowerCase()]=i}function r(n){return t[n.FullPath.toLowerCase()]}var t={};n.setAssembly=i;n.getAssembly=r}(tt||(tt={}));l=function(n){function r(t,i){var r=n.call(this,k.Me,t)||this;if(r.Assemblies=new at,r._stat=0,r.pendingAssemblies=0,r.pending=0,r.NModulesFail=0,r.modules=[],r._onExecuted=[],r.modulePrototypes=[],r.onModuleExecuted=r.onModuleExecuted.bind(r),r.OnAssemblyDependencyExecuted=r.OnAssemblyDependencyExecuted.bind(r),!i.IsFolder)throw"Invalid assembly Path";return r.resourceUrl=i,r}return __extends(r,n),Object.defineProperty(r.prototype,"SuperVisor",{set:function(n){this._superVisor=n},enumerable:!0,configurable:!0}),r.prototype.CheckIfToSkip=function(n){return this._superVisor&&this._superVisor(n.Url)},r.prototype.LoadEntryPoint=function(n){var t=this.CreateEntryPoint(n);this.EntryPoint=t},r.prototype.collectAssets=function(t,i){var r,u;if(!n.prototype.collectAssets.call(this,t,i))for(r in this.Assemblies._store)u=this.Assemblies._store[r],u.collectAssets(t,i)},Object.defineProperty(r.prototype,"Stat",{get:function(){return this._stat},enumerable:!0,configurable:!0}),r.prototype.GetModuleOnStat=function(n){var i,t;for(n===void 0&&(n=7),i=[],t=0;t<this.modules.length;t++)this.modules[t]._stat==n&&i.push(this.modules[t]);return i},Object.defineProperty(r.prototype,"EntryPoint",{get:function(){return this.entryPoint},set:function(n){if(this.entryPoint!=null)throw"Invalide stat";this.entryPoint=n;n.OnExecuted=this.OnEntryPointExecuted.bind(this);o.Download(n)},enumerable:!0,configurable:!0}),r.prototype.OnEntryPointExecuted=function(){this.pendingAssemblies==0&&this.pending==0&&this._stat<p.Executed&&this.OnAssemblyExecuted();this.startDownloadModules()},Object.defineProperty(r.prototype,"IsEntryPointExecuted",{get:function(){return this.entryPoint._stat>5},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"FullName",{get:function(){return this.resourceUrl.FullPath},enumerable:!0,configurable:!0}),r.prototype.Register=function(n){var t=this.subFolders._store[n.Name],i;if(t instanceof r)if(t!==n)throw"unvalid stat";else return;else return i=n.Replace(t,this),this.Assemblies.setAssembly(n),i},r.prototype.GetAssembly=function(n){return this.Assemblies.getAssembly(n)},r.prototype.OnModuleExecuting=function(n){this.modules.push(n);this._stat<p.Executed&&(this.pending++,n.OnExecuted=this.onModuleExecuted)},r.prototype.OnAssemblyExecuted=function(){var i,t,n;for(this._stat=p.Executed,i=this._onExecuted.splice(0),t=0;t<i.length;t++)n=i[t],n.callback&&n.callback.call(n.Owner,this,n)},r.prototype.onModuleExecuted=function(){this.pending--;this.pending==0&&this.OnAssemblyExecuted()},Object.defineProperty(r.prototype,"OnExecuted",{set:function(n){typeof n=="function"&&(n={callback:n,Owner:this});this._stat>=p.Executed?n.callback.call(n.Owner,this,n):this._onExecuted.push(n)},enumerable:!0,configurable:!0}),r.prototype.OnAssemblyDependencyExecuted=function(){this.pendingAssemblies--;this.pendingAssemblies==0&&this.startDownloadModules()},r.prototype.startDownloadModules=function(){for(var n;n=this.modulePrototypes.shift();)w.CodeManager.loadDependencies(n.module,n.dependencies,n.callback);this.CheckIfAssemblyExecuted()},r.prototype.PushModule=function(n,t,i){n.Stat=ModuleStat.Defining;n!=this.entryPoint&&this.deferedNonGlobalAssemblies||this.loadLibs(n,t,i);this.IsEntryPointExecuted?ot.Dispatcher.call(null,w.CodeManager.loadDependencies,n,t,i):this.Stat<p.Executed?this.modulePrototypes.push({module:n,dependencies:t,callback:i}):w.CodeManager.loadDependencies(n,t,i)},r.prototype.loadLibs=function(n,t){for(var i,h,c=n.RootFolder,e,u=0,o=t.length;u<o;u++)if(i=t[u],i.indexOf("lib:")==0){var f=i.indexOf("|"),s=i.substr(4,f-4),r=i.substr(f+1);(e=r.indexOf("*")==0)&&(r=r.substr(1));h=this.LoadAssembly(n.Folder,r,s)}},r.prototype.CheckIfAssemblyExecuted=function(){this.pendingAssemblies==0&&this.pending==0&&this.OnAssemblyExecuted()},r.prototype.CreateEntryPoint=function(n){var t=this.GetFolder(n.Directory,!1),i;return t.Modules.setModule(i=new y(t,n,this)),i},r.prototype.LoadAssembly=function(n,u,f){var o,s,e,h;if(typeof u=="string"&&u.indexOf("<")==0?(u=u.substr(1),u=t.ResourceUrl.Combine(u)):u=n.ResourceUrl.Combine(u),u.IsFolder?(o=u,s=u.Combine("index.js")):(s=u,o=u.Directory),s.setDefaultType(ModuleType.code),e=this.GetAssembly(f),e){if(e.Stat>=p.Executed)return e}else h=t.GetFolder(o,!0),h instanceof r?e=h:(e=tt.getAssembly(o))||(e=new r(f,o),e.LoadEntryPoint(new i.Url(s.getEName("js")))),this.Register(e);return this.pendingAssemblies++,e.OnExecuted=this.OnAssemblyDependencyExecuted,e},r}(k);e.Assembly=l;var lt=function(){function n(n){this.folder=n;this._store={}}return n.prototype.register=function(n){this._store[n.Name.toLowerCase().trim()]=n},n.prototype.GetFolder=function(n){return this._store[n.toLowerCase().trim()]},n.prototype.createFolder=function(n){var t=new k(this.folder,n);return this._store[n.toLowerCase().trim()]=t,t},n.prototype.deleteFolder=function(n){if(n.Parent!==this.folder)throw"unvalid operation";n instanceof l||(n.Parent=null);delete this._store[n.Name.toLowerCase().trim()]},n}(),et=function(){function n(){this._store={};this.OnExecuted=new u.EventListener(1);this._store={};this.OnExecuted=new u.EventListener(1)}return n.prototype.getModule=function(n){return this._store[n.getEName(n.isAsset?undefined:"js")]},n.prototype.setModule=function(n){this._store[n.EName]=n},n}(),at=function(){function n(){this._store={}}return n.prototype.getAssembly=function(n){return this._store[n]},n.prototype.setAssembly=function(n){this._store[n.Name]=n},n}(),vt=function(){function n(){}return n._getPath=function(n){var i,t,r;if(n.constructor===Object||n.constructor===it)for(i in n)if((t=n[i],t!=null)&&this.passed.indexOf(t)===-1){this.passed.push(t);switch(typeof t){case"string":case"number":case"boolean":case"undefined":continue;default:if(t===this.type)return i;if(t instanceof Function)continue;if(r=this._getPath(t),r!=null)return i+"."+r}}return null},n.GetType=function(n,t){return this.type=n,this.passed.length=0,this._getPath(t)},n.passed=[],n}(),yt=function(){function n(n,t,i){this.Args=n;this.module=t;this.Index=i}return n}(),it=function(){function n(n){if(n)for(var t in n)this[t]=n[t];else return;Object.freeze(this);Object.seal(this)}return n}();e.Exports=it;rt=function(){function n(n,t){this.Module=n;this.callback=t;this.Dependencies=[];this.nsuccess=0;this.onModuleExecuted=this.onModuleExecuted.bind(this);n.args=this;h.push(this)}return n.prototype.createDependency=function(n,t,i){var r=new yt(this,n,t);return this.Dependencies[t]=r,n instanceof l?i?this.nsuccess++:n.Stat<p.Executed?n.OnExecuted=this.onAssemblyExecuted.bind(this):this.nsuccess++:n instanceof y?(i&&this.nsuccess++,n.Stat>=ModuleStat.Executed?this.nsuccess++:(i||(n.OnExecuted=this.onModuleExecuted),n.Stat===ModuleStat.New&&o.Download(n))):this.nsuccess++,r},n.prototype.onAssemblyExecuted=function(){this.nsuccess++;this.checkNSuccess()},n.prototype.onModuleExecuted=function(){this.nsuccess++;this.checkNSuccess()},n.prototype.checkNSuccess=function(){this.nsuccess>=this.Dependencies.length&&(this.nsuccess=Number.NEGATIVE_INFINITY,this.Execute())},n.prototype.populateArgs=function(){for(var n,i=new Array(this.Dependencies.length),r=this.Dependencies,t=0,u=r.length;t<u;t++)n=r[t].module,i[t]=n instanceof y?this.Module.call(n):n instanceof l?{require:n.require,define:n.define,entryPoint:n.EntryPoint.call(n.EntryPoint)}:n;this._args=i},n.prototype.Execute=function(){var n,t,i;this.populateArgs();n=this.Module;try{if(n.Stat=ModuleStat.Executing,n.Stat>=ModuleStat.Executed)return;if(n.RootFolder.CheckIfToSkip(n))return;t=this.callback.apply(n._thisContext,this._args);t&&(i=n.exports,typeof t=="function"?(n.exports=t,t.__export__=i):typeof t!="object"?i.Default?i.Default instanceof Array?i.Default.push(t):i.Default=[i.Default,t]:i.Default=t:f(n.exports,t));n.Stat=ModuleStat.Executed}catch(i){n.Stat=ModuleStat.Failed}},n.prototype.Invoke=function(){this.nsuccess>=this.Dependencies.length&&this.Execute()},n.prototype.getUnExecuted=function(){var n=[];return this.Dependencies.forEach(function(n){n.module instanceof y&&n.module.Stat<6&&this.push(n.module)},n),n},n.prototype.getUnSuccessed=function(){var n=[];return this.Dependencies.forEach(function(n){n.module instanceof y&&n.module.Stat>6&&this.push(n.module)},n),n},n.getUnExecuted=function(){var n=[];return h.every(function(t){var i=t.getUnExecuted();return i.length!==0&&n.push({m:t.Module,r:i}),!0},n),n},n.getUnSuccessed=function(){var n=[];return h.every(function(t){var i=t.getUnSuccessed();return i.length!==0&&n.push({m:t.Module,r:i}),!0},n),n},n}();e.Args=rt;e.initialize=pt,function(n){n[n.Initializer=0]="Initializer";n[n.Downloader=1]="Downloader";n[n.Definer=2]="Definer";n[n.Executer=3]="Executer"}(ut=e.OperationPhase||(e.OperationPhase={})),function(n){function l(){var i,n,u;for(e=!0,i=s.slice(),n=0;n<i.length;n++)try{u=i[n];u.callback.call(u.owner)}catch(o){}e=!1;t.length!=0&&(clearTimeout(f),f=setTimeout(h.start,0),r=!0)}var r=!1,f=-1,t=[],u=[],i=0,o=function(){function n(n,t){this.id=n;this.params=t||[]}return n.prototype.Set=function(){for(var r,n,i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(n=i.length-1;n>=0;n--)if((r=i[n])===undefined)continue;else this.params[n]=r;return this},n.prototype.Set1=function(n){for(var i,t=n.length-1;t>=0;t--)if((i=n[t])===undefined)continue;else this.params[t]=i;return this},n.prototype.Clone=function(){var t=new n(this.id);return t.Set1(this.params),t},n}(),s,e,h,c;n.JobParam=o;s=[];h=function(){function n(){}return n.OnIdle=function(n,t){if(e||!r)try{t.call(n)}catch(i){}else s.push({owner:n,callback:t})},n.InIdle=function(){return e},n.GC=function(){for(var r,n=0,f=u.length;n<f;n++)r=u[n],r.children.length=0,r.ce=0;t.length=0;i=0;l()},n.clone=function(n,t,i){var r={callback:n.callback,_this:i===undefined?n._this:i,id:n.id,isWaiting:!0,optimizable:!1,params:new o(n.id).Set1(t||n.params.params)};return n.children.push(r),r},n.cretaeJob=function(n,t,i,r){var f={callback:n,params:new o(u.length,t),_this:i,optimizable:r,isWaiting:!1,id:u.length,children:[],ce:0};return u.push(f),f.params},n.Clear=function(n){for(var f,t=u[n.id],i=t.children,e=t.ce,o=i.length,r=o-1;r>e;r--)f=i[r],f.isWaiting=!1,f.optimizable=!0;i.length=0;t.ce=0},Object.defineProperty(n,"CurrentJob",{get:function(){return t[i]},enumerable:!0,configurable:!0}),n.start=function(){var s,e,o,h;if(r=!0,t.length===0){r=!1;l();return}for(s=i+Math.min(3,t.length-i);i<s;i++){if(e=t[i],e.isWaiting)try{o=e.params.params;e.callback.call(e._this,o[0],o[1],o[2])}catch(c){}e.optimizable||(h=u[e.id],h.ce++);e.isWaiting=!1;t[i]=null}r=i<t.length;r?f=setTimeout(n.start,0):n.GC()},n.Push=function(i,o,s){var h=u[i.id];if(h.optimizable){if(o&&h.params.Set(o),h._this=s===undefined?h._this:s,h.isWaiting)return}else h=this.clone(h,o,s);return h.isWaiting=!0,t.push(h),r||t.length>0&&(clearTimeout(f),f=setTimeout(n.start,0),r=!0,e=!1),h},n.call=function(n,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];this.Push(c,[n,t,r])},n.icall=function(n,t,i){this.Push(c,[n,t,i])},n}();n.Dispatcher=h;c=n.Dispatcher.cretaeJob(function(n,t,i){t.apply(n,i)},[],null,!1)}(ot=e.thread||(e.thread={}));ft=function(){function n(){this._store={};this.http=new u.Downloader;this.register(new w.StyleManager);this.register(new w.CodeManager);this.register(new w.TemplateManager);this.register(new w.JsonManager)}return n.prototype.register=function(n){this._store[n.moduleType]=n},n.prototype.Download=function(n,t,i){var r,u;if(n.Stat>=ModuleStat.Downloading)throw"Modul Stat Corrupted";if(r=n.Url.IsPlugin?this._store[ModuleType[n.Url.PluginName]]:this._store[n.Url.moduleType],!r){n.Stat=ModuleStat.Failed;return}return n.Stat=ModuleStat.Downloading,u={module:n,dataStat:i,OnOperationDone:t},r.Download(u),u},n.prototype.Execute=function(n){if(n.module.Stat>=ModuleStat.Executing)throw"Modul Stat Corrupted";var t=this._store[n.module.Url.moduleType];if(!t){n.module.Stat=ModuleStat.Failed;return}n.module.Stat=ModuleStat.Executing;t.Download(n)},n.prototype.get=function(n){if(typeof n=="number")var t=n;else if(t=ModuleType[n=n.toLowerCase()],t===undefined)return this._store[n];return this._store[t]},n}();e.ModuleDownoader=ft,function(n){var r,i,e,s,h,l;$defineProperty(window,"define",{get:function(){return i.define},set:function(){},configurable:!1,enumerable:!1});$defineProperty(window,"require",{get:function(){return i._current&&i._current.module.require||t.require},set:function(){},configurable:!1,enumerable:!1});r=function(){function n(){this._eventsStore={}}return n.prototype.Define=function(){},n.prototype.Execute=function(){},n.prototype.addEventListener=function(n,t,i){var r=this._eventsStore[n];r||(this._eventsStore[n]=r=[]);r.push({data:i,callback:t})},n.prototype.removeEventlistenr=function(n,t){var r=this._eventsStore[n],i;if(r)for(i=0;i<r.length;i++)if(r[i].callback===t)return r.splice(i,1)},Object.defineProperty(n.prototype,"avaibleEvents",{get:function(){return this._avaibleEvents},enumerable:!0,configurable:!0}),n.prototype.detacheEvent=function(n,t,i,r){var f=this._eventsStore[n],e,u,o;if(f)for(e={data:r,exports:i,url:t},u=0;u<f.length;u++){o=f[u];try{o.callback(e)}catch(s){}}},n}();i=function(n){function i(){var t=n.call(this)||this;if(t.moduleType=ModuleType.code,i.instance)throw"this is Singliton class";return i.instance=t,t}return __extends(i,n),i.eventHandler=function(n){return i.instance.handleEvent(n,this)},i.Next=function(){this._isDownloading||this.Download()},i.Push=function(n){n&&this._store.push(n);this.Next()},i.prototype.handleEvent=function(n,t){var u=i._current,r=u.module,e,o;if(i._current=undefined,i._isDownloading=!1,u){e=u.dData;this.detacheEvent(ModuleStat.Downloaded,r.Url,r.exports);e.removeEventListener("load",t);e.removeEventListener("error",t);e.remove();u.error=n.type==="error";u.error;o=r.Stat==ModuleStat.Defining;r.Stat=ModuleStat.Downloaded;o||(r.Stat=ModuleStat.Defined);f(r.exports,window.exports);window.exports={};u.error&&(r.Stat=ModuleStat.Failed);o||(r.Stat=u.error?ModuleStat.Failed:ModuleStat.Executed);try{u.OnOperationDone&&u.OnOperationDone(u,ut.Downloader)}catch(s){}this.detacheEvent(r.Stat,r.Url,r.exports);i.Next()}},i.define=function(){var n=i._current;if(n)i.beginDefine(n.module,arguments);else{if(arguments.length!=0)return t.define.apply(t,arguments);throw"UnExpected Error";}},i.beginDefine=function(n,t){if(typeof t[0]=="string")k.prototype.define.apply(n.Folder,t);else if(t[0]instanceof Array)n._folderContext=n.Folder,i.asyncLoadDependencies(n,t[0],t[1]);else if(t[0]instanceof Function)i.loadDependencies(n,[],t[0]);else throw"Code not implimented";},i.Download=function(){var t;if(this._store.length===0){this._isDownloading=!1;this._current=undefined;return}var i=this._current=this._store.shift(),n=document.createElement("script"),r=i.module;n.src=r.ResourceUrl.FullPath;i.dData=n;r.Stat=ModuleStat.Downloading;t={_this:this,handleEvent:this.eventHandler};n.addEventListener("load",t);n.addEventListener("error",t);this._isDownloading=!0;window.exports={};document.head.appendChild(n)},i.prototype.Download=function(n){i.Push(n)},i.prototype.Define=function(){},i.prototype.Execute=function(){},i.getUrls=function(){var t=[],n=document.head.firstChild;do n instanceof HTMLScriptElement&&(n.src||"").trim()!=""&&t.push(n.src);while(n=n.nextSibling);return t},i.asyncLoadDependencies=function(n,t,i){n.RootFolder.PushModule(n,t,i)},i.loadDependencies=function(n,t,i){var h,f,l,r,u,e,c;if(!(n.Stat>ModuleStat.Defining)&&n.args==null){for(n.Stat=ModuleStat.Defining,h=new rt(n,i),f=0,l=t.length;f<l;f++){r=t[f];e=!1;switch(r){case"exports":u=n.exports;break;case"define":u={define:n.Folder.define};break;case"require":u=n.require;break;case"context":u=n._thisContext;break;case"loadLib":e=!0;u=n.loadLib;break;default:if(r.indexOf("plugin|")===0)c=o.get(r.substr(7)),u=c?c:null;else if(r.indexOf("lib:")==0){var a=r.indexOf("|"),v=r.substr(4,a-4),s=r.substr(a+1);(e=s.indexOf("*")==0)&&(s=s.substr(1));u=n.RootFolder.LoadAssembly(n.Folder,s,v)}else(e=r.indexOf("*")==0)&&(r=r.substr(1)),u=n.GetModule(r)}h.createDependency(u,f,e)}n.Stat=ModuleStat.Defined;h.Invoke()}},i._store=[],i._isDownloading=!1,i}(r);n.CodeManager=i;i.define.amd={};e=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.moduleType=ModuleType.style,t}return __extends(t,n),t.handleEvent=function(n){var t=this;t.t.onDownloaded(t.e,this,n)},t.prototype.Download=function(n){var i=document.createElement("link"),r,u;i.rel="stylesheet";r=n.module;i.href=r.ResourceUrl.FullPath;n.dData=i;r.Stat=ModuleStat.Downloading;u={handleEvent:t.handleEvent,e:n,t:this};i.addEventListener("load",u);i.addEventListener("error",u);document.head.appendChild(i)},t.prototype.Define=function(){},t.prototype.Execute=function(){},t.prototype.onDownloaded=function(n,t,i){n.dData.removeEventListener("load",t);n.dData.removeEventListener("error",t);var r=n.module,u=n.dData;this.detacheEvent(ModuleStat.Downloaded,r.Url,r.exports);n.error=i.type==="error";r.Stat=ModuleStat.Defined;try{n.eData=u.sheet;f(r.exports,{sheet:u.sheet,dom:u});r.Stat=n.error?ModuleStat.Failed:ModuleStat.Executed;n.OnOperationDone&&n.OnOperationDone(n,ut.Downloader)}catch(n){}this.detacheEvent(r.Stat,r.Url,r.exports)},t}(r);n.StyleManager=e;s=function(){function n(){}return n.split=function(n){for(var u,i,f,o,s,r=[],e=n.split("."),t=0;t<e.length;t++)if(u=e[t],u!=="")if(i=u.split(/[\]\[]/),i.length===1)r.push(u);else for(f=0;f<i.length;f++)s=isNaN(o=parseInt(i[t])),s?r.push(o):r.push(i[t]);return r},n.get=function(n,t){for(var f,r=this.split(n),e=t.GetTemplateRoot(r[0]),i=e,u=1;u<r.length;u++){if(f=r[u],i instanceof Element)return undefined;i=i.get(f)}return i},n}();n.Templates=s;h=function(t){function r(){var i=t!==null&&t.apply(this,arguments)||this;return i.moduleType=ModuleType.template,i.templates=[],i.OnNewTemplateExecuted=new u.EventListener(n),i}return __extends(r,t),r.prototype.Download=function(n){var t=n.module.ResourceUrl.getRelativePath();c.Push(n.module.ResourceUrl,new u.downloadCallback(r._execute,{key:this,value:n},!0))},r._execute=function(n,t){var s=t.data.key,c=t.data.value,u=c.module,e,o,h;u.Stat=ModuleStat.Downloaded;s.detacheEvent(ModuleStat.Downloaded,u.Url,u.exports);try{e=document.createElement("div");e.innerHTML=n.webr.Response;o=[];h=r.BuildTree(e.firstElementChild,o);f(u.exports,{require:u.require,template:r.reduce(h),html:e.firstElementChild,context:u._thisContext})}catch(l){t.IsSuccess=!1}t.IsSuccess&&o.length!=0?i.asyncLoadDependencies(u,o,function(){u.Stat=t.IsSuccess?ModuleStat.Executed:ModuleStat.Failed;s.detacheEvent(u.Stat,u.Url,u.exports)}):(u.Stat=t.IsSuccess?ModuleStat.Executed:ModuleStat.Failed,s.detacheEvent(u.Stat,u.Url,u.exports))},r.prototype.Execute=function(){},r.reduce=function(n){return Object.getOwnPropertyNames(n).length===2&&n["#"].length===1?r.reduce(n["#"][0]):n},r.get=function(n){return typeof n=="string"?this[n]:this["#"][n]},r.BuildTree=function(n,t){var i={get:this.get},u=[];return i["#"]=u,r.reduce(this.buildTree(n,i,u,t))},r.buildTree=function(n,t,i,r){var u=n.getAttribute("name"),f,o,e;switch(n.tagName){case"REQUIRE":r.push(n.getAttribute("module")||n.getAttribute("url")||n.innerText||n.innerHTML);break;case"TEMPLATES":case"DESCRIPTOR":for(f={get:this.get},o=[],f["#"]=o,u?t[u]=f:i.push(f),e=n.firstElementChild;e;)this.buildTree(e,f,o,r),e=e.nextElementSibling;break;default:case"TEMPLATE":u?t[u]=n:i.push(u)}return t},r}(r);n.TemplateManager=h;l=function(n){function t(){var t=n!==null&&n.apply(this,arguments)||this;return t.moduleType=ModuleType.json,t}return __extends(t,n),t.prototype.Download=function(n){c.Push(n.module.ResourceUrl,new u.downloadCallback(t._execute,{key:this,value:n},!0))},t._execute=function(n,t){var r=t.data.key,u=t.data.value,i=u.module;if(r.detacheEvent(ModuleStat.Downloaded,i.Url,i.exports),t.IsSuccess)try{f(i.exports,{require:i.require,value:JSON.parse(n.webr.Response)})}catch(u){t.IsSuccess=!1}i.Stat=t.IsSuccess?ModuleStat.Executed:ModuleStat.Failed;r.detacheEvent(i.Stat,i.Url,i.exports)},t}(r);n.JsonManager=l}(w||(w={}))}(e||(e={}));e.initialize();n.checkOverFlow=y;n.checkStat=p;n.getUnExecuted=l;n.getUnUnSuccessed=w;n.getUExecuted=b;n.collectAssets=a;n.getCmdCopy=k}(System||(System={}));