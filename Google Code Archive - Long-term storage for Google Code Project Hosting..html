<!DOCTYPE html>
<!-- saved from url=(0066)https://code.google.com/archive/p/jslibs/wikis/JavascriptTips.wiki -->
<html class="google ng-scope" lang="en" ng-app="codesiteArchive.application"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta content="initial-scale=1, minimum-scale=1, width=device-width" name="viewport">

    <!-- https://developers.google.com/webmasters/ajax-crawling/docs/specification -->
    <meta name="fragment" content="!">
    <title>Google Code Archive - Long-term storage for Google Code Project Hosting.</title>

    <link rel="icon" type="image/vnd.microsoft.icon" href="https://code.google.com/archive/img/project-hosting.ico">
    <script src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/google.js.download"></script>
    <link href="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/maia.css" rel="stylesheet">
    <link href="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/css" rel="stylesheet">
    <link rel="stylesheet" href="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/archive_css.css">
    <script>
      CLOSURE_NO_DEPS = true;
    </script>
    <script src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/angular.js.download"></script><style type="text/css">@charset "UTF-8";

[ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],
.ng-cloak, .x-ng-cloak,
.ng-hide:not(.ng-hide-animate) {
  display: none !important;
}

ng\:form {
  display: block;
}

.ng-animate-shim {
  visibility:hidden;
}

.ng-anchor {
  position:absolute;
}
</style>
    <script src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/pagedown.js.download"></script>
    <script src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/archive.js.download"></script>
    <!--<base href="/archive/">--><base href=".">
  </head>

  <body>
    <div class="maia-header" id="maia-header" role="banner">
      <div class="maia-aux">
        <a href="https://code.google.com/archive/">
          </a><h1><a href="https://code.google.com/archive/">
            <img alt="Google" src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/googlelogo_color_116x41dp.png"> Code</a>
          </h1>
        
        <a href="https://code.google.com/archive/">
          <h2>Archive</h2>
        </a>
        <a class="maia-teleport" href="https://code.google.com/archive/#content">Skip to content</a>
        <div class="maia-util">
          <form action="https://code.google.com/archive/search" class="maia-search ng-pristine ng-valid">
            <input name="q" placeholder="Search this site" type="text">
            <button class="maia-button">
              <span class="maia-search-icon">Search</span>
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- ngView: --><div ng-view="" class="ng-scope"><div ng-controller="ProjectWikiCtrl as wikiCtrl" class="ng-scope">
<nav-bar-widget nav-level-1="wikiCtrl.navLevel1" class="ng-isolate-scope"><div class="maia-nav maia-complex" id="maia-nav-x" role="navigation">
  <div class="maia-aux">
    <ul>
      <li ng-class="{active: navLevel1 == &#39;projects&#39;}" class="active">
        <a href="https://code.google.com/archive/">Projects</a>
        <!-- ngIf: navLevel2 -->
      </li>
      <li ng-class="{active: navLevel1 == &#39;search&#39;}">
        <a href="https://code.google.com/archive/search">Search</a>
      </li>
      <li ng-class="{active: navLevel1 == &#39;about&#39;}">
        <a href="https://code.google.com/archive/about">About</a>
      </li>
    </ul>
  </div>
</div>
</nav-bar-widget>
<div id="maia-main" role="main">

  <!-- ngIf: wikiCtrl.notFound -->

  <div ng-hide="wikiCtrl.notFound">
    <!-- Left-side resource nav -->
    <project-resources-widget domain="wikiCtrl.domain" project="wikiCtrl.projectName" class="ng-isolate-scope"><div class="maia-nav" id="maia-nav-y" role="navigation">
  <!-- ngIf: domain == 'code.google.com' --><ul ng-if="domain == &#39;code.google.com&#39;" class="ng-scope">
    <li class="active">
      <a href="https://code.google.com/archive/p/jslibs/">Project</a>
    </li>
    <li>
      <a href="https://code.google.com/archive/p/jslibs/source">Source</a>
    </li>
    <li>
      <a href="https://code.google.com/archive/p/jslibs/issues">Issues</a>
    </li>
    <li>
      <a href="https://code.google.com/archive/p/jslibs/wikis">Wikis</a>
    </li>
    <li>
      <a href="https://code.google.com/archive/p/jslibs/downloads">Downloads</a>
    </li>
  </ul><!-- end ngIf: domain == 'code.google.com' -->

    <!-- ngIf: domain != 'code.google.com' -->
</div></project-resources-widget>

    <div class="maia-article" role="article">
      <div class="maia-teleport" id="content"></div>
      <div class="maia-cols">
        <div id="gca-project-header" class="maia-col-10">
          <a id="gca-export-to-gh" class="maia-button" href="https://code.google.com/export-to-github/export?project=jslibs">Export to GitHub</a>
          <img class="gca-project-logo" src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/logo.png">
          <h1 class="ng-binding">jslibs - JavascriptTips.wiki</h1>
        </div>

        <!-- ngIf: wikiCtrl.error -->

        <!-- ngIf: !wikiCtrl.error --><div ng-if="!wikiCtrl.error" class="maia-col-10 ng-scope">
          <hr>

          <markdown-widget text="wikiCtrl.wikiContents" class="markdown">

<p>
ANNOUNCEMENT</p>

<p>Unknown end tag for &lt;/b&gt;</p>

<p>Unknown end tag for &lt;/font&gt;</p>

<ul>
<li>jslibs 0.95 has been [<a href="http://code.google.com/p/jslibs/downloads/list">http://code.google.com/p/jslibs/downloads/list</a> released]</li>
</ul>

<p>Unknown end tag for &lt;/font&gt;</p>

<p>(see [<a href="http://code.google.com/p/jslibs/">http://code.google.com/p/jslibs/</a> jslibs project])
</p><hr><br>
'&gt;<p></p>

<h1>JavaScript language advanced Tips &amp; Tricks</h1>

<p><img src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/warning.png" alt="http://jslibs.googlecode.com/svn/wiki/warning.png" title=""> These tips and tricks are not related to any web browser or any Document Object Model (DOM), they are only general purpose tips and tricks for the JavaScript language.</p>

<p>Some of these tricks are using a latest version of JavaScript language (v1.8) and cannot run with the Microsoft Implementation of JavaScript (v1.5).</p>

<p>All these tricks has been tested with the Mozilla <a href="http://developer.mozilla.org/en/docs/SpiderMonkey">SpiderMonkey/TraceMonkey</a> JavaScript engine (v1.8).</p>

<p><img src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/dl_arrow.gif" alt="http://code.google.com/images/dl_arrow.gif" title=""> You can try these examples using jshost, a command-line JavaScript interpreter. (<a href="http://code.google.com/p/jslibs/downloads/list">download it</a>).</p>

<p><img src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/mail.png" alt="http://jslibs.googlecode.com/svn/wiki/mail.png" title=""> If you need more explanation about one of the following tips, don't hesitate to ask me or use the comment section at the end of this page.</p>

<p>See the TOC at the end of the page.</p>

<p><img src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/vspace.png" alt="http://jslibs.googlecode.com/svn/wiki/vspace.png" title=""></p>

<hr>

<h2>Append an array to another array</h2>

<p>```
var a = [4,5,6];
var b = [7,8,9];
Array.prototype.push.apply(a, b);</p>

<p>uneval(a); // is: [4, 5, 6, 7, 8, 9]
```</p>

<hr>

<h2>Milliseconds since epoch</h2>

<p><code>
+new Date() // 1259359833574
</code></p>

<hr>

<h2>Simulate threads using yield operator</h2>

<p><sup>JavaScript 1.7</sup>
```
//// thread definition
function Thread( name ) {</p>

<pre><code>for ( var i = 0; i &lt; 5; i++ ) {

    Print(name+': '+i);
    yield;
}
</code></pre>

<p>}</p>

<p>//// thread management
var threads = [];</p>

<p>// thread creation
threads.push( new Thread('foo') );
threads.push( new Thread('bar') );</p>

<p>// scheduler
while (threads.length) {</p>

<pre><code>var thread = threads.shift();
try {
    thread.next();
    threads.push(thread);
} catch(ex if ex instanceof StopIteration) {}
</code></pre>

<p>}
<code>
prints:
</code>
foo: 0
bar: 0
foo: 1
bar: 1
foo: 2
bar: 2
foo: 3
bar: 3
foo: 4
bar: 4
```</p>

<hr>

<h2>prefix an integer with zeros</h2>

<p>```
function PrefixInteger(num, length) {</p>

<pre><code>return (num / Math.pow(10, length)).toFixed(length).substr(2);
</code></pre>

<p>}
```</p>

<p>And more efficient:
```
function PrefixInteger(num, length) {</p>

<p>return ( "0000000000000000" + num ).substr( -length );
}
```
Thanks to fritzthe...</p>

<p>And even better:
```
function PrefixInteger(num, length) {</p>

<p>return (Array(length).join('0') + num).slice(-length);
}
```
Thanks to tobeytai...</p>

<hr>

<h2>shuffle the Array</h2>

<p><sup>JavaScript 1.?</sup>
```
var list = [1,2,3,4,5,6,7,8,9];</p>

<p>list = list.sort(function() Math.random() - 0.5);</p>

<p>Print(list); // prints something like: 4,3,1,2,9,5,6,7,8 
```</p>

<hr>

<h2>multi-line text</h2>

<p><sup>JavaScript 1.6</sup>
<code>
var text = &lt;&gt;
this
is
my
multi-line
text
&lt;/&gt;.toString();
Print(text);
</code>
prints:
```</p>

<p>this
is
my
multi-line
text</p>

<p>```</p>

note

<p>If you want to support special XML chars, you can use a CDATA section:
```
&lt;&gt;

</p><blockquote>
  <blockquote>
    <blockquote>
      <p>hello</p>
    </blockquote>
  </blockquote>
</blockquote>

<p>]]&gt;.toString();
```</p>

<hr>

<h2>Escape and unescape HTML entities</h2>

<p>```
const entityToCode = { <strong>proto</strong>: null,
apos:0x0027,quot:0x0022,amp:0x0026,lt:0x003C,gt:0x003E,nbsp:0x00A0,iexcl:0x00A1,cent:0x00A2,pound:0x00A3,
curren:0x00A4,yen:0x00A5,brvbar:0x00A6,sect:0x00A7,uml:0x00A8,copy:0x00A9,ordf:0x00AA,laquo:0x00AB,
not:0x00AC,shy:0x00AD,reg:0x00AE,macr:0x00AF,deg:0x00B0,plusmn:0x00B1,sup2:0x00B2,sup3:0x00B3,
acute:0x00B4,micro:0x00B5,para:0x00B6,middot:0x00B7,cedil:0x00B8,sup1:0x00B9,ordm:0x00BA,raquo:0x00BB,
frac14:0x00BC,frac12:0x00BD,frac34:0x00BE,iquest:0x00BF,Agrave:0x00C0,Aacute:0x00C1,Acirc:0x00C2,Atilde:0x00C3,
Auml:0x00C4,Aring:0x00C5,AElig:0x00C6,Ccedil:0x00C7,Egrave:0x00C8,Eacute:0x00C9,Ecirc:0x00CA,Euml:0x00CB,
Igrave:0x00CC,Iacute:0x00CD,Icirc:0x00CE,Iuml:0x00CF,ETH:0x00D0,Ntilde:0x00D1,Ograve:0x00D2,Oacute:0x00D3,
Ocirc:0x00D4,Otilde:0x00D5,Ouml:0x00D6,times:0x00D7,Oslash:0x00D8,Ugrave:0x00D9,Uacute:0x00DA,Ucirc:0x00DB,
Uuml:0x00DC,Yacute:0x00DD,THORN:0x00DE,szlig:0x00DF,agrave:0x00E0,aacute:0x00E1,acirc:0x00E2,atilde:0x00E3,
auml:0x00E4,aring:0x00E5,aelig:0x00E6,ccedil:0x00E7,egrave:0x00E8,eacute:0x00E9,ecirc:0x00EA,euml:0x00EB,
igrave:0x00EC,iacute:0x00ED,icirc:0x00EE,iuml:0x00EF,eth:0x00F0,ntilde:0x00F1,ograve:0x00F2,oacute:0x00F3,
ocirc:0x00F4,otilde:0x00F5,ouml:0x00F6,divide:0x00F7,oslash:0x00F8,ugrave:0x00F9,uacute:0x00FA,ucirc:0x00FB,
uuml:0x00FC,yacute:0x00FD,thorn:0x00FE,yuml:0x00FF,OElig:0x0152,oelig:0x0153,Scaron:0x0160,scaron:0x0161,
Yuml:0x0178,fnof:0x0192,circ:0x02C6,tilde:0x02DC,Alpha:0x0391,Beta:0x0392,Gamma:0x0393,Delta:0x0394,
Epsilon:0x0395,Zeta:0x0396,Eta:0x0397,Theta:0x0398,Iota:0x0399,Kappa:0x039A,Lambda:0x039B,Mu:0x039C,
Nu:0x039D,Xi:0x039E,Omicron:0x039F,Pi:0x03A0,Rho:0x03A1,Sigma:0x03A3,Tau:0x03A4,Upsilon:0x03A5,
Phi:0x03A6,Chi:0x03A7,Psi:0x03A8,Omega:0x03A9,alpha:0x03B1,beta:0x03B2,gamma:0x03B3,delta:0x03B4,
epsilon:0x03B5,zeta:0x03B6,eta:0x03B7,theta:0x03B8,iota:0x03B9,kappa:0x03BA,lambda:0x03BB,mu:0x03BC,
nu:0x03BD,xi:0x03BE,omicron:0x03BF,pi:0x03C0,rho:0x03C1,sigmaf:0x03C2,sigma:0x03C3,tau:0x03C4,
upsilon:0x03C5,phi:0x03C6,chi:0x03C7,psi:0x03C8,omega:0x03C9,thetasym:0x03D1,upsih:0x03D2,piv:0x03D6,
ensp:0x2002,emsp:0x2003,thinsp:0x2009,zwnj:0x200C,zwj:0x200D,lrm:0x200E,rlm:0x200F,ndash:0x2013,
mdash:0x2014,lsquo:0x2018,rsquo:0x2019,sbquo:0x201A,ldquo:0x201C,rdquo:0x201D,bdquo:0x201E,dagger:0x2020,
Dagger:0x2021,bull:0x2022,hellip:0x2026,permil:0x2030,prime:0x2032,Prime:0x2033,lsaquo:0x2039,rsaquo:0x203A,
oline:0x203E,frasl:0x2044,euro:0x20AC,image:0x2111,weierp:0x2118,real:0x211C,trade:0x2122,alefsym:0x2135,
larr:0x2190,uarr:0x2191,rarr:0x2192,darr:0x2193,harr:0x2194,crarr:0x21B5,lArr:0x21D0,uArr:0x21D1,
rArr:0x21D2,dArr:0x21D3,hArr:0x21D4,forall:0x2200,part:0x2202,exist:0x2203,empty:0x2205,nabla:0x2207,
isin:0x2208,notin:0x2209,ni:0x220B,prod:0x220F,sum:0x2211,minus:0x2212,lowast:0x2217,radic:0x221A,
prop:0x221D,infin:0x221E,ang:0x2220,and:0x2227,or:0x2228,cap:0x2229,cup:0x222A,int:0x222B,
there4:0x2234,sim:0x223C,cong:0x2245,asymp:0x2248,ne:0x2260,equiv:0x2261,le:0x2264,ge:0x2265,
sub:0x2282,sup:0x2283,nsub:0x2284,sube:0x2286,supe:0x2287,oplus:0x2295,otimes:0x2297,perp:0x22A5,
sdot:0x22C5,lceil:0x2308,rceil:0x2309,lfloor:0x230A,rfloor:0x230B,lang:0x2329,rang:0x232A,loz:0x25CA,
spades:0x2660,clubs:0x2663,hearts:0x2665,diams:0x2666
};</p>

<p>var charToEntity = {};
for ( var entityName in entityToCode )
    charToEntity[String.fromCharCode(entityToCode[entityName])] = entityName;</p>

<p>function UnescapeEntities(str) str.replace(/&amp;(.+?);/g, function(str, ent) String.fromCharCode( ent[0]!='#' ? entityToCode[ent] : ent[1]=='x' ? parseInt(ent.substr(2),16): parseInt(ent.substr(1)) ) );</p>

<p>function EscapeEntities(str) str.replace(/[^\x20-\x7E]/g, function(str) charToEntity[str] ? '&amp;'+charToEntity[str]+';' : str );
```</p>

<hr>

<h2>Remove an object from an array</h2>

<p><sup>JavaScript 1.8</sup>
<code>
function RemoveArrayElement( array, element ) !!let (pos=array.lastIndexOf(element)) pos != -1 &amp;&amp; array.splice(pos, 1);
</code></p>

<hr>

<h2>Creates a random alphabetic string</h2>

<p>```
function RandomString(length) {</p>

<pre><code>var str = '';
for ( ; str.length &lt; length; str += Math.random().toString(36).substr(2) );
return str.substr(0, length);
</code></pre>

<p>}
```</p>

<hr>

<h2>Brainfuck interpreter</h2>

<p>```</p>

<p>var code = '++++++++++[&gt;+++++++&gt;++++++++++&gt;+++&gt;+&lt;&lt;&lt;&lt;-]&gt;++.&gt;+.+++++++..+++.&gt;++.&lt;&lt;+++++++++++++++.&gt;.+++.------.--------.&gt;+.&gt;.';
var inp = '23\n';
var out = '';</p>

<p>var codeSize = code.length;
var i = 0, ip = 0, cp = 0, dp = 0, m = {};</p>

<p>var loopIn = {}, loopOut = {};
var tmp = [];
for ( var cp = 0; cp &lt; codeSize ; cp++ )
    if ( code[cp] == '[' )
        tmp.push(cp);
    else
        if ( code[cp] == ']' )
            loopOut[loopIn[cp] = tmp.pop()] = cp;</p>

<p>for (var cp = 0; cp &lt; codeSize &amp;&amp; i &lt; 100000; cp++, i++) {</p>

<pre><code>switch(code[cp]) {

    case '&gt;': dp++; break;
    case '&lt;': dp--; break;
    case '+': m[dp] = ((m[dp]||0)+1)&amp;255; break
    case '-': m[dp] = ((m[dp]||0)-1)&amp;255; break;
    case '.': out += String.fromCharCode(m[dp]); break;
    case ',': m[dp] = inp.charCodeAt(ip++)||0; break;
    case '[': m[dp]||(cp=loopOut[cp]); break;
    case ']': cp = loopIn[cp]-1; break;
}
</code></pre>

<p>}
Print(out);
```</p>

<p>This <a href="http://en.wikipedia.org/wiki/Brainfuck">Brainfuck</a> program just prints 'Hello World!'</p>

<hr>

<h2>Optional named function arguments</h2>

<p>```
function foo({ name:name, project:project}) {</p>

<pre><code>Print( project );
Print( name );
</code></pre>

<p>}</p>

<p>foo({ name:'soubok', project:'jslibs' })
foo({ project:'jslibs', name:'soubok'})
```</p>

<hr>

<h2>String converter</h2>

<p><sup>JavaScript 1.8</sup>
<code>
function CreateTranslator(translationTable) function(s) s.replace(new RegExp([k for (k in translationTable)].join('|'), 'g'), function(str) translationTable[str]);
</code>
exemple of use:
<code>
var translationTable = { a:1, bb:2, b:3, c:4 };
var MyTranslater = CreateTranslator( translationTable );
MyTranslater('aabbbc'); // returns: 11234
</code></p>

<hr>

<h2>Display the current call stack</h2>

<p>```
function Stack() { try { throw Error() } catch(ex) { return ex.stack } }</p>

<p>print( Stack() );
<code>
prints:
</code>
Error()@:0
Stack()@test.js:1
@test.js:3
```</p>

<hr>

<h2>Change the primitive value of an object with <em>valueOf</em></h2>

<p>```
function foo() {</p>

<p>this.valueOf = function() {</p>

<pre><code> return 'this is my value';
</code></pre>

<p>}
}</p>

<p>var bar = new foo();</p>

<p>Print( bar ); // prints: this is my value</p>

<p>Print( bar == 'this is my value' ) // prints: true</p>

<p>Print( bar === 'this is my value' ) // prints: false</p>

<p>```</p>

<hr>

<h2>Transform the <em>arguments</em> object into an array</h2>

<p><sup>JavaScript 1.6</sup>
```
function foo() {</p>

<p>var argArray = Array.slice(arguments); // is ['aa',11] 
}</p>

<p>foo('aa',11);
```</p>

<p>use also
<code>
var argArray = Array.prototype.slice.call(arguments);
</code></p>

<hr>

<h2>Convert a string into a charcode list</h2>

<p>Method 1:
<sup>JavaScript 1.6</sup>
<code>
Array.map('foo', function(x) { return String.charCodeAt(x) }) // is [112,111,111]
</code></p>

<p>Method 2:
<sup>JavaScript 1.7</sup>
<code>
[ String.charCodeAt(x) for each ( x in 'foo' ) ] // is [112,111,111]
</code></p>

<hr>

<h2>Array iteration pitfall</h2>

<p>```
var foo = [3,4,5];</p>

<p>for ( var i in foo ) {</p>

<pre><code>if ( i == 1 ) {

    foo.unshift(6);
}
Print('item: '+foo[i])
</code></pre>

<p>}
Print( 'array: '+foo.toSource() )
<code>
output:
</code>
item: 3
item: 3
item: 4
array: [6, 3, 4, 5]
```</p>

<hr>

<h2>exceptions for non-fatal errors</h2>

<p><sup>JavaScript 1.7</sup>
```
function ERR() { throw ERR }
function CHK( v ) { return v || ERR() }</p>

<p>try {</p>

<p>var data1 = 'a/b/c';
  var arr1 = CHK(data1).split('/');</p>

<p>var data2 = '';
  var arr2 = CHK(data2).split('/'); // the exception is throw here</p>

<p>} catch(ex if ex == ERR) {</p>

<p>Print('non fatal error while decoding the data')
}
<code>
prints:
</code>
a b c
```</p>

<hr>

<h2>A Switch function</h2>

<p><sup>JavaScript 1.8</sup>
<code>
function Switch(i) arguments[++i];
</code>
usage:
<code>
Print( Switch(2,'aa','bb','cc','dd') ); // prints: cc
Print( Switch(100,'aa','bb','cc','dd') ); // prints: undefined
</code></p>

<hr>

<h2>A Match function</h2>

<p><sup>JavaScript 1.8</sup>
<code>
function Match(v) Array.indexOf(arguments,v,1)-1;
</code>
usage:
<code>
Print( Match('aa', '0', 'b', 123, 'aa', 8.999 ) ); // prints: 3
Print( Match('Z', 'b', 123, 'aa', 8.999 ) ); // prints: -2 (&lt; 0 is not found)
</code></p>

<hr>

<h2>new object override</h2>

<p><sup>JavaScript 1.5</sup>
```
function foo() {</p>

<p>return new Array(5,6,7);
}</p>

<p>var bar = new foo();
bar.length // is 3
```</p>

<hr>

<h2>Kind of destructuring assignments</h2>

<p><sup>JavaScript 1.7</sup>
<code>
 var { a:x, b:y } = { a:7, b:8 };
 Print(x); // prints: 7
 Print(y); // prints: 8
</code></p>

<hr>

<h2>Generator Expressions</h2>

<p><sup>JavaScript 1.7</sup>
<code>
[ y for ( y in [5,6,7,8,9] ) ] // is [0,1,2,3,4]
</code></p>

<p><strong>and</strong></p>

<p><code>
[ y for each ( y in [5,6,7,8,9] ) ] // is [5,6,7,8,9]
</code></p>

<p>Because in <strong>for</strong> extracts index names, and <strong>for each</strong> extracts the values.</p>

<hr>

<h2>Advanced use of iterators</h2>

<p><sup>JavaScript 1.7</sup>
```
Number.prototype.<strong>iterator</strong> = function() {</p>

<p>for ( let i = 0; i &lt; this; i++ )
  yield i;
};</p>

<p>for ( let i in 5 )
 print(i);
<code>
prints:
</code>
1
2
3
4
5
```</p>

<p>This make Number object to act as a generator.</p>

<hr>

<h2>Expression Closures</h2>

<p><sup>JavaScript 1.8</sup>
<code>
function(x) x * x;
</code>
Note that braces <strong>{</strong>...<strong>}</strong> and <strong>return</strong> are implicit</p>

<hr>

<h2>Function declaration and expression</h2>

<p>Function declaration:
```
bar(); // prints: bar
function bar() {</p>

<p>Print('bar');
}</p>

<p>function foo() {</p>

<p>Print('foo');
}
foo(); // prints: foo</p>

<p>```</p>

<p>Function expression:
```
(function foo() {
  Print( foo.name );
})(); // prints: foo
foo(); // rise a ReferenceError</p>

<p>!function foo() {
}
foo(); // rise a ReferenceError</p>

<p>var bar = function foo() {
}
foo(); // rise a ReferenceError
```</p>

<hr>

<h2>Factory method pattern</h2>

<p>```
Complex = new function() {</p>

<pre><code>function Complex(a, b) {
    // ...
}

this.fromCartesian = function(real, mag) {

    return new Complex(real, imag);
}

this.fromPolar = function(rho, theta) {

    return new Complex(rho * Math.cos(theta), rho * Math.sin(theta));
}
</code></pre>

<p>}</p>

<p>var c = Complex.fromPolar(1, Math.pi); // Same as fromCartesian(-1, 0);
```</p>

<p><sub>see factory pattern on</sub> <a href="http://en.wikipedia.org/wiki/Factory_method_pattern">wikipedia</a></p>

<hr>

<h2>Closures by example</h2>

<p><sup>JavaScript 1.5</sup></p>

<p>```
function CreateAdder( add ) {</p>

<p>return function( value ) {</p>

<pre><code>return value + add;
</code></pre>

<p>}
}
```</p>

<p>usage:
```
var myAdder5 = CreateAdder( 5 );
var myAdder6 = CreateAdder( 6 );</p>

<p>Print( myAdder5( 2 ) ); // prints 7
Print( myAdder6( 4 ) ); // prints 10
```</p>

<p><sub>Further information about</sub> <a href="http://developer.mozilla.org/en/docs/Core_JavaScript_1.5_Reference:Functions#Nested_functions_and_closures">Nested functions and closures</a></p>

<hr>

<h2>SyntaxError</h2>

<p><sup>JavaScript 1.5</sup></p>

<p>raised when a syntax error occurs while parsing code in eval()
```
try {</p>

<p>eval('1 + * 5'); // will rise a SyntaxError exception</p>

<p>} catch( ex ) {</p>

<pre><code>Print( ex.constructor == SyntaxError ); // Prints true
</code></pre>

<p>}
```</p>

<p><sup>JavaScript 1.7</sup>
```
try {</p>

<p>eval('1 + * 5');</p>

<p>} catch( ex if ex instanceof SyntaxError  ) {</p>

<p>Print( 'SyntaxError !' ); // prints: SyntaxError !
}
```</p>

<hr>

<h2>ReferenceError</h2>

<p>raised when de-referencing an invalid reference.
```
try {</p>

<p>fooBar(); // will rise a ReferenceError exception</p>

<p>} catch( ex ) {</p>

<p>Print( ex.constructor == ReferenceError ); // Prints true
}
```</p>

<p><sup>JavaScript 1.7</sup>
```
try {</p>

<p>fooBar();</p>

<p>} catch( ex if ex instanceof ReferenceError ) {</p>

<p>Print( 'ReferenceError !' ); // prints: ReferenceError !
}
```</p>

<hr>

<h2>JavaScript Minifier / comment remover</h2>

<p><sup>jslibs</sup>
<code>
var script = new Script('var a; /* this is a variable */ var b; // another variable');
Print( script.toString() );
</code>
prints:
<code>
var a;
var b;
</code></p>

<p><sup>javascript</sup>
```
function foo() {</p>

<p>var a; // a variable
 var b = [1, 2, 3]; // an array
 var c = {x: {y: 1}};</p>

<p>function bar() { // my function</p>

<p>return 1 /* 2 */;
 }
}</p>

<p>Print( foo.toSource() );
```</p>

<hr>

<h2>JavaScript code beautifier (un-minifier)</h2>

<p><code>
function foo() {var a;var b=[1,2,3];var c={x:{y:1}};function bar(){return 1}}
Print( foo.toSource(1) );
</code>
prints:
```
function foo() {
 var a;
 var b = [1, 2, 3];
 var c = {x: {y: 1}};</p>

<p>function bar() {
  return 1;
 }
}
```</p>

<hr>

<h2>Auto indent JavaScript code / unobfuscator</h2>

<p><sup>Spidermonkey JavaScript engine only</sup>
<code>
function foo() { function bar(){};var i=0;for(;i&lt;10;++i) bar(i) }
Print(foo.toSource(2));
</code>
prints:
```
function foo() {</p>

<pre><code>  function bar() {
  }

  var i = 0;
  for (; i &lt; 10; ++i) {
      bar(i);
  }
</code></pre>

<p>}
```</p>

<hr>

<h2>Objects, constructor and instanceof</h2>

<p><sup>JavaScript 1.5</sup>
```
function Foo() {
  // Foo class
}</p>

<p>var a = new Foo();</p>

<p>Bar.prototype = new Foo();
function Bar() {
  // Bar class
}</p>

<p>var b = new Bar();</p>

<p>Print( a.constructor == Foo ); // true
Print( a instanceof Foo ); // true</p>

<p>Print( b.constructor == Foo ); // true
Print( b instanceof Foo ); // true</p>

<p>Print( b.constructor == Bar ); // false !
Print( b instanceof Bar ); // true
```</p>

<hr>

<h2>Objects private and public members</h2>

<p>```
function MyConstructor( pub, priv ) {</p>

<p>var privateVariable = priv;
  this.publicVariable = pub;</p>

<p>this.SetThePrivateVariable = function( value ) {</p>

<pre><code>privateVariable = value;
</code></pre>

<p>}</p>

<p>this.GetThePrivateVariable = function() {</p>

<pre><code>return privateVariable;
</code></pre>

<p>}</p>

<p>this.PrintAllVariables = function() {</p>

<pre><code>Print( privateVariable + ',' + this.publicVariable );
</code></pre>

<p>}
}</p>

<p>var myObject = new MyConstructor( 123, 456 );</p>

<p>Print( myObject.privateVariable ); // prints: undefined
Print( myObject.publicVariable ); // prints: 123
myObject.PrintAllVariables(); // prints 456,123
myObject.SetThePrivateVariable( 789 );
myObject.PrintAllVariables(); // prints 789,123</p>

<p>```</p>

<hr>

<h2>Stack data structure</h2>

<p><sup>JavaScript 1.5</sup>
Array object has all needed methods to be used as a stack.
```
  var stack = [];
  stack.push( 111 );
  stack.push( 2.22 );
  stack.push( 'ccc' );</p>

<p>Print( stack ); // prints: 111,2.22,ccc</p>

<p>Print( stack.pop() ); // prints: ccc
  Print( stack.pop() ); // prints: 2.22
```</p>

<hr>

<h2>Singleton pattern</h2>

<p><sup>JavaScript 1.5</sup>
The singleton pattern is a <a href="http://en.wikipedia.org/wiki/Design_pattern_%28computer_science%29">design pattern</a> that is used to restrict instantiation of a class to one object.
This is useful when exactly one object is needed to coordinate actions across the system.
```
function MySingletonClass() {</p>

<p>if ( arguments.callee._singletonInstance )
    return arguments.callee._singletonInstance;
  arguments.callee._singletonInstance = this;</p>

<p>this.Foo = function() {
    // ...
  }
}</p>

<p>var a = new MySingletonClass()
var b = MySingletonClass()
Print( a === b ); // prints: true
```</p>

<hr>

<h2>Use Functions as an Object</h2>

<p><sup>JavaScript 1.5</sup>
```
function Counter() {</p>

<p>if ( !arguments.callee.count ) {</p>

<pre><code>    arguments.callee.count = 0;
}
return arguments.callee.count++;
</code></pre>

<p>}
Print( Counter() ); // prints: 0
Print( Counter() ); // prints: 1
Print( Counter() ); // prints: 2
```</p>

<hr>

<h2>E4X add nodes</h2>

<p><sup>JavaScript 1.6</sup>
<code>
var x = &lt;store/&gt;;
x.* += &lt;item price="10" /&gt;;
x.* += &lt;item price="15" /&gt;;
Print( x.toXMLString() );
</code>
prints:
<code>
&lt;store&gt;
  &lt;item price="10"/&gt;
  &lt;item price="15"/&gt;
&lt;/store&gt;
</code></p>

<hr>

<h2>E4X dynamic document creation</h2>

<p><sup>JavaScript 1.6</sup>
<code>
var html = &lt;html/&gt;;
html.head.title = "My Page Title";
html.body.@bgcolor = "#e4e4e4";
html.body.form.@name = "myform";
html.body.form.@action = "someurl.jss";
html.body.form.@method = "post";
html.body.form.@onclick = "return somejs();";
html.body.form.input[0] = "";
html.body.form.input[0].@name = "test";
Print(html.toXMLString());
</code>
prints:
<code>
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;My Page Title&lt;/title&gt;
  &lt;/head&gt;
  &lt;body bgcolor="#e4e4e4"&gt;
    &lt;form name="myform" action="someurl.jss" method="post" onclick="return somejs();"&gt;
      &lt;input name="test"&gt;&lt;/input&gt;
    &lt;/form&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></p>

<hr>

<h2>E4X dynamic tag name</h2>

<p><sup>JavaScript 1.6</sup>
<code>
var nodeName = 'FOO';
if ( isXMLName(nodeName) ) { // assert that nodeName can be used as a node name
  var x = &lt;{nodeName}&gt;test&lt;/{nodeName}&gt;
  Print( x.toXMLString() ); // prints: &lt;FOO&gt;test&lt;/FOO&gt;
}
</code></p>

<hr>

<h2>E4X dynamic content</h2>

<p><sup>JavaScript 1.6</sup>
<code>
var content = 'FOO';
var x = &lt;item&gt;{content}&lt;/item&gt;
Print( x.toXMLString() ); // prints: &lt;item&gt;FOO&lt;/item&gt;
</code></p>

<hr>

<h2>E4X iteration</h2>

<p><sup>JavaScript 1.6</sup>
```
var sales = 

  
  
  
;</p>

<p>for each( var price in sales..@price ) {
  Print( price + '\n' );
}
<code>
prints:
</code>
4
3
5
```</p>

<hr>

<h2>Listen a property for changes</h2>

<p>```
function onFooChange( id, oldval, newval ) {</p>

<p>Print( id + " property changed from " + oldval + " to " + newval );
  return newval;
}</p>

<p>var o = { foo:5 };
o.watch( 'foo', onFooChange );</p>

<p>o.foo = 6;</p>

<p>delete o.foo;</p>

<p>o.foo = 7;</p>

<p>o.unwatch('foo');
o.foo = 8;
<code>
prints:
</code>
foo property changed from 5 to 6
foo property changed from undefined to 7
```</p>

<hr>

<h2>Logical operators tricks</h2>

<p><code>
var a = 5;
a == 5 &amp;&amp; Print( 'a is 5 \n' );
a == 7 || Print( 'a is not 7 \n' );
</code>
prints:
<code>
a is 5 
a is not 7
</code></p>

<hr>

<h2>Functions argument default value</h2>

<p>```
function foo( a, b ) {</p>

<p>a = a || '123';
  b = b || 55;
  Print( a + ',' + b );
}</p>

<p>foo(); // prints: 123,55
foo('bar'); // prints: bar,55
foo('x', 'y'); // prints x,y
<code>
![http://jslibs.googlecode.com/svn/wiki/warning.png](http://jslibs.googlecode.com/svn/wiki/warning.png) but:
</code>
foo(0,''); // prints: 123,55
```
because 0 and '' are evaluated as false !</p>

<hr>

<h2>Remove an item by value in an Array object</h2>

<p><code>
var arr = ['a', 'b', 'c', 'd'];
var pos = arr.indexOf( 'c' );
pos &gt; -1 &amp;&amp; arr.splice( pos, 1 );
Print( arr ); // prints: a,b,d
</code></p>

<hr>

<h2>Multiple-value returns</h2>

<p><sup>JavaScript 1.7</sup>
```
function f() {</p>

<p>return [1, 2];
}</p>

<p>var [a, b] = f();</p>

<p>Print( a + ' ' + b ); // prints: 1 2
```</p>

<hr>

<h2>Operator [ ] and strings ( like charAt() )</h2>

<p><sup>JavaScript 1.6</sup>
<code>
var str = 'foobar';
Print( str[4] );
</code>
prints:
<code>
a
</code></p>

<hr>

<h2>indexOf() and lastIndexOf() Works on Array</h2>

<p><sup>JavaScript 1.6</sup>
<code>
var obj = {};
var arr = [ 'foo', 567, obj, 12.34 ];
Print( arr.indexOf(obj) ); // prints: 2
</code></p>

<hr>

<h2>Using Array functions on a non-Array object</h2>

<p><sup>JavaScript 1.7</sup>
<code>
var obj = {};
Array.push(obj, 'foo');
Array.push(obj, 123);
Array.push(obj, 5.55);
Print( obj.toSource() ); // prints: ({0:"foo", length:3, 1:123, 2:5.55})
</code></p>

<hr>

<h2>Change current object (this) of a function call</h2>

<p>```
function test(arg) {</p>

<p>Print( this[0]+' '+this[1]+' '+arg );
}</p>

<p>var arr = ['foo', 'bar'];
test.call(arr, 'toto'); // prints: foo bar toto
```</p>

<hr>

<h2>Filter / intercept a function call</h2>

<p>```
function bar(a, b, c, d, e, f) {</p>

<p>Print(a, b, c, d, e, f)
}</p>

<p>function foo() {</p>

<p>bar.apply(this, arguments);
}</p>

<p>foo(1, 2, 3, 4, 5, 6); // prints: 123456
```</p>

<hr>

<h2>E4X Query ( like XPath )</h2>

<p><sup>JavaScript 1.6</sup>
```
var xml = 
 
 
</p>

<p>Print( xml.data.(@id==1).@text );
var myid = 2; 
Print( xml.data.(@id==myid).@text );
<code>
prints:
</code>
foo
bar
```</p>

<hr>

<h2>swap two variables</h2>

<p><sup>JavaScript 1.7</sup>
<code>
var a = 1;
var b = 2;
[a,b] = [b,a];
</code></p>

<hr>

<h2>Destructuring assignment with function arguments</h2>

<p><sup>JavaScript 1.7</sup>
```
function foo( [a,b] ) {</p>

<pre><code>Print(a);
Print(b);
</code></pre>

<p>}</p>

<p>foo( [12,34] );
<code>
Prints:
</code>
12
34
```</p>

<hr>

<h2>JavaScript scope is not C/C++ scope</h2>

<p>```
if ( false ) { // never reach the next line</p>

<pre><code>var foo = 123;
</code></pre>

<p>}</p>

<p>Print(foo); // prints: undefined ( but is defined )
Print(bar); // failed: ReferenceError: bar is not defined
```</p>

<hr>

<h2>JavaScript scope and LET instruction</h2>

<p><sup>JavaScript 1.7</sup>
<code>
var x = 5;
var y = 0;
let (x = x+10, y = 12) {
  Print(x+y);
}
Print(x+y);
</code>
prints:
<code>
27
5
</code></p>

<p>or,
<code>
for ( let i=0 ; i &lt; 10 ; i++ ) {
  Print(i + ' ');
}
Print(i);
</code>
prints:
<code>
0 1 2 3 4 5 6 7 8 9 test.js:4: ReferenceError: i is not defined
</code></p>

<hr>

<h2>Defer function calls</h2>

<p>```
var opList = [];
function deferCall( text, value ) { 
    opList.push(arguments)
}
function doCall(func) { 
    while (opList.length) 
        func.apply(this,opList.shift());
}</p>

<p>deferCall( 'one', 1 );
deferCall( 'titi', 'toto' );
deferCall( 5, 'foo' );</p>

<p>function callLater(a,b) {</p>

<p>Print(a+', '+b);
}</p>

<p>doCall( callLater )
<code>
Prints:
</code>
one, 1
titi, toto
5, foo
```</p>

<hr>

<h2>Insert an array in another array</h2>

<p>```
var a = [1,2,3,7,8,9]</p>

<p>var b = [4,5,6]
var insertIndex = 3;</p>

<p>a.splice.apply(a, Array.concat(insertIndex, 0, b));
Print(a); // prints: 1,2,3,4,5,6,7,8,9
```</p>

<hr>

<h2>Multiple string concatenation</h2>

<p><code>
var html = ['aaa', 'bbb', 'ccc', ...].join('');
</code>
Is faster than:
<code>
var html = 'aaa' + 'bbb' + 'ccc' + ...;
</code>
This is true with a big number of elements ( &gt; 5000 )</p>

<hr>

<h2>HTTP headers parser</h2>

<p>```
var rexp_keyval = /(.<em>?): ?(.</em>?)\r?\n/g;
function headersToObject( allHeaders ) {</p>

<pre><code>var res, hdrObj = {};
for ( rexp_keyval.lastIndex = 0; res = rexp_keyval.exec(allHeaders); hdrObj[res[1]] = res[2])
return hdrObj;
</code></pre>

<p>}
```</p>

<hr>

<h2>Using 'with' scope</h2>

<p><code>
with({ a:5 }) function toto() { return a }
toto() // returns 5
</code></p>

<hr>

<h2>(object).toString()</h2>

<p><code>
var a = { toString:function() { return '123'; }  }
Print(a); // prints '123', and not [Object object]
</code></p>

<hr>

<h2>RegExpr.$1</h2>

<p><code>
var re = /a(.*)/
'abcd'.match(re)
Print( RegExp.$1 ) // prints 'bcd'
</code></p>

<hr>

<h2>Binary with XmlHTTPRequest</h2>

<p><sup>browser related example</sup>
<code>
var req = new XMLHttpRequest();
req.open('GET', "http://code.google.com/images/code_sm.png",false);
req.overrideMimeType('text/plain; charset=x-user-defined');
//req.overrideMimeType('application/octet-stream');
req.send(null);
var val = req.responseText;
Print( escape(val.substr(0,10)) );
</code></p>

<hr>

<h2>Iterate on values</h2>

<p><sup>JavaScript 1.6</sup>
<code>
for each ( var i in [3,23,4] )
    Print(i)
</code>
Prints:
<code>
3
23
4
</code></p>

<hr>

<h2>Exceptions Handling / conditional catch (try catch if)</h2>

<p>```
function Toto(){}
function Titi(){}</p>

<p>try {</p>

<pre><code>throw new Titi()
</code></pre>

<p>} catch ( err if err instanceof Toto ) {
    Print('toto')
} catch ( err if err instanceof Titi ) {
    Print('titi')
} catch(ex) {
    throw(ex);
}
```</p>

<hr>

<h2>Special chars</h2>

<p><code>
$=4
_=5
Print( _+$)
</code>
prints:
<code>
9
</code></p>

<hr>

<h2>object's eval method</h2>

<p><code>
var foo = { bar:123 };
foo.eval('bar') // returns 123
</code></p>

<p><code>
var foo = { bar:123 };
with ( foo )
 var val = eval( 'bar' );
Print( val ); // returns 123
</code></p>

<hr>

<h2>eval this</h2>

<p>```
function test() {</p>

<pre><code>Print(eval('this'));
</code></pre>

<p>}
test.call(123)
<code>
prints:
</code>
123
```</p>

<hr>

<h2>No Such Method ( noSuchMethod )</h2>

<p><code>
var o = {}
o.__noSuchMethod__ = function(arg){ Print('unable to call "'+arg+'" function') }
o.foo(234)
</code>
prints:
<code>
unable to call "foo" function
</code></p>

<hr>

<h2>RegExp replace</h2>

<p>```
function Replacer( conversionObject ) {</p>

<pre><code>var regexpStr = '';
for ( var k in conversionObject )
    regexpStr += (regexpStr.length ? '|' : '') + k;
var regexpr = new RegExp(regexpStr,'ig'); // g: global, m:multi-line i: ignore case
return function(s) { return s.replace(regexpr, function(str, p1, p2, offset, s) { var a = conversionObject[str]; return a == undefined ? str : a }) }
</code></pre>

<p>}</p>

<p>var myReplacer = Replacer( { '<br>':'\n', '&amp;':'&amp;', '&lt;':'&lt;', '&gt;':'&gt;', '"':'"' } );</p>

<p>Print( myReplacer('aa<br>a &amp;&amp;&amp;&lt;') );
<code>
prints:
</code>
aa
a &amp;&amp;&amp;&lt;
```</p>

<hr>

<h2>Values comparison</h2>

<p>```
[4] === 4 // is: false
[4] == 4 // is: true</p>

<p>'0' == 0 // is: true
'0' === 0 // is: false
```</p>

<hr>

<h2>undefined, null, 0, false, '', ...</h2>

<p>```
var a = { b:undefined, c:null, d:0, f:'' }</p>

<p>a['b'] // is: undefined
a['e'] // is: undefined</p>

<p>'b' in a // is: true
'e' in a // is: false</p>

<p>Boolean(a.b) // is: false
Boolean(a.c) // is: false
Boolean(a.d) // is: false
Boolean(a.e) // is: false !
Boolean(a.f) // is: false</p>

<p>typeof( asvqwfevqwefq ) == 'undefined' // =true</p>

<p>Print( '' == false ); // prints: true
Print( 0 == false ); // prints: true
Print( [] == false ); // prints: true</p>

<p>Print( [] == '' ); // prints: true
Print( '' == 0 ); // prints: true
Print( [] == 0 ); // prints: true</p>

<p>```</p>

<hr>

<h2>constructor property ( InstanceOf + Type )</h2>

<p><code>
var a = {};
a.constructor === Object // is: true
</code></p>

<hr>

<h2>AJAX evaluation</h2>

<p>```
var a = {</p>

<pre><code>b:function() { Print(123) }
</code></pre>

<p>}</p>

<p>var body = 'b();';</p>

<p>with(a) { eval(body) }; // Prints 123
```</p>

<hr>

<h2>Comma operator</h2>

<p>```
var a = 0;
var b = ( a++, 99 );</p>

<p>a // is: 1
b // is: 99</p>

<p>var i = 0;
while( Print('x '), i++&lt;10 )
    Print(i + ' ')
```
prints:
<code>x 1 x 2 x 3 x 4 x 5 x 6 x 7 x 8 x 9 x 10 x</code></p>

<hr>

<h2>closures pitfall</h2>

<p>```
var a = [];</p>

<p>for ( var i=0; i&lt;10; i++ ) {</p>

<p>a[i] = function() { Print(i); }
}</p>

<p>a0; // is: 10
a1; // is: 10
a2; // is: 10
a3; // is: 10
```</p>

<p>simpler case:
<code>
var i = 5;
function foo() { Print(i) }
foo(); // prints 5
i = 6;
foo(); // prints 6
</code></p>

Closure definition

<p>A closure occurs when one function appears entirely within the body of another, and the inner function refers to local variables of the outer function.</p>

links

<p><a href="http://www.jibbering.com/faq/faq_notes/closures.html">obligated lecture to understand closures</a></p>

<p>In the first example, you can avoid the behavior using the let instruction:
```
var a = [];</p>

<p>for ( var i=0; i&lt;10; i++ ) {
 let j = i;
 a[i] = function() { Print(j); }
}
```
In this case, each instances of the (anonymous) inner function refer to different instances of variable j.</p>

<hr>

<h2>sharp variable</h2>

<p>```
var a = { titi:#1={}, toto:#1# };
a.titi === a.toto; // is: true</p>

<p>var a = { b:#1={ c:#1# } }
// a.b.c.c.c.c.c.c...
```</p>

<hr>

<h2>common object between 2 objects</h2>

<p>```
function a() {}</p>

<p>a.prototype = { b:{} }</p>

<p>c = new a;
d = new a;</p>

<p>c.b.e = 2;</p>

<p>c.b === d.b // is: true !
d.b.e // is: 2
```</p>

<hr>

<h2>constructor</h2>

<p>```
function a( b ) {</p>

<pre><code>Print(b);
</code></pre>

<p>}</p>

<p>c.prototype = new a;</p>

<p>function c( arg ) {</p>

<pre><code>this.constructor.apply( this, arg );
</code></pre>

<p>};</p>

<p>o = new c( [1,2,3] );
<code>
prints:
</code>
undefined
1
```</p>

<hr>

<h2>JavaScript string can contain null chars</h2>

<p><code>
var test = '\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00';
test.length // is: 10
</code></p>

<hr>

<h2>'new' operator precedence</h2>

<p>```
function test() {</p>

<pre><code>this.toto = 1234;
</code></pre>

<p>}</p>

<p>(new test()).toto // ok ( logical way )</p>

<p>new test().toto // ok</p>

<p>new test.toto // bad !</p>

<p>(new test).toto // ok
```</p>

<hr>

<h2>constructor usage</h2>

<p>```
function toto( val ) { // parent class</p>

<pre><code>this.print = function() {

    Print( val );
}
</code></pre>

<p>}</p>

<p>titi.prototype = new toto;</p>

<p>function titi( val ) { // child class</p>

<pre><code>this.constructor(val);
</code></pre>

<p>}</p>

<p>(new titi(7)).print(); // prints 7
```</p>

<hr>

<h2>To object</h2>

<p><code>
var obj = Object(123);
obj.foo = 678;
Print( typeof( obj ) + ', ' + obj + ', ' + obj.foo ); // prints: object, 123, 678
</code></p>

<hr>

<h2>Serialize or uneval a variable or an object ( can be nested )</h2>

<p>```
var o = { a:123, b:'test', c:function() { return 987; } }</p>

<p>Print( o.toSource() ); // prints: ({a:123, b:"test", c:(function () {return 987;})})</p>

<p>Print( uneval(o) ); // prints: ({a:123, b:"test", c:(function () {return 987;})})
```</p>

<hr>

<h2>JavaScript labels</h2>

<p><code>
xxx: {
    Print( 111 )
    break xxx;
    Print( 222 )
}
</code>
prints:
<code>
111
</code></p>

<hr>

<h2>for in loop</h2>

<p><code>
for ( var i in function(){ return [1, 2, 3] }() )
  Print( i );
</code>
prints:
<code>
0
1
2
</code></p>

<hr>

<h2>proto ( prototype property )</h2>

<p><code>
var a = {}
var b = {}
a.__proto__ == b.__proto__ // is: true
</code></p>

<hr>

<h2>Numbers and floating point error</h2>

<p><code>
Print( 1000000000000000128 ); // prints 1000000000000000100
</code></p>

<hr>

<h2>Number base conversion ( hexadecimal )</h2>

<p>```
(255).toString(16); // is: ff</p>

<p>parseInt( 'ff', 16 ) // is: 255</p>

<p>parseInt('0xff'); // is 255
```</p>

<hr>

<h2>try / catch / finally</h2>

<p>```
try {</p>

<p>} catch(ex) {</p>

<pre><code>Print('catch')
</code></pre>

<p>} finally {</p>

<pre><code>Print('finally')
</code></pre>

<p>}
<code>
prints:
</code>
finally
```</p>

<hr>

<h2>Object argument</h2>

<p>```
var proto = {</p>

<pre><code>x: function() { return 'x' }
</code></pre>

<p>}</p>

<p>var o1 = new Object( proto );
var o2 = new Object( proto );</p>

<p>o1 == o2 // is: true
```</p>

<hr>

<h2>object and its prototype</h2>

<p>```
function obj() {}</p>

<p>obj.prototype = { x:1 };
var b = new obj;</p>

<p>obj.prototype = { x:2 };
var c = new obj;</p>

<p>c.x == b.x // is: false
```</p>

<hr>

<h2>Runtime prototype object</h2>

<p>```
var proto1 = {
    a:function(){ return 1 }
}</p>

<p>var proto2 = {
    a:function(){ return 2 }
}</p>

<p>function createObject( proto ) {</p>

<pre><code>var cl = function() {}
cl.prototype = proto;
return new cl;
</code></pre>

<p>}</p>

<p>var v1 = createObject( proto1 ).a
var v2 = createObject( proto2 ).a</p>

<p>Print( v1() );
Print( v2() );</p>

<p>Print( createObject( proto1 ).a === createObject( proto1 ).a );
<code>
prints:
</code>
1
2
true
```</p>

<hr>

<h2>for in loop and undefined value</h2>

<p><code>
var o = { x:undefined }
for ( var i in o )
    Print(i)
</code>
prints:
<code>
x
</code></p>

<hr>

<h2>Call function in parent class</h2>

<p>```
toto.prototype = new function() {</p>

<pre><code>this.a = function() {

    Print(456)
}
</code></pre>

<p>};</p>

<p>function toto() {</p>

<pre><code>this.a=function(){

    Print(123)
    toto.prototype.a.call(this); // or: this.__proto__.a();
}
</code></pre>

<p>}</p>

<p>var o = new toto;
o.a();
<code>
prints:
</code>
123
456
```</p>

<hr>

<h2>getter and setter function</h2>

<p>```
abcd getter = function() {</p>

<pre><code>Print(345);
</code></pre>

<p>}</p>

<p>abcd;
abcd;
abcd;
<code>
prints:
</code>
345
345
345
```</p>

Beware

<p><img src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/warning.png" alt="http://jslibs.googlecode.com/svn/wiki/warning.png" title=""> The previous syntax used to define a getter is <strong>highly deprecated</strong>, and should be replaced with:
```
<strong>defineGetter</strong>('abcd', function() {</p>

<pre><code>Print(345);
</code></pre>

<p>});
```</p>

<hr>

<h2>defineGetter ( define getter )</h2>

<p><code>
o = {}
o.__defineGetter__('x', function(){ Print('xxx')} )
o.x
</code>
prints:
<code>
xxx
</code></p>

<hr>

<h2>check if an object or its prototype has a propery (hasOwnProperty)</h2>

<p>```
var o = { a:1 }
o.<strong>proto</strong> = { b:2 }</p>

<p>o.hasOwnProperty('a'); // is: true
o.hasOwnProperty('b'); // is: false
```</p>

<p>check this <a href="http://yuiblog.com/blog/2006/09/26/for-in-intrigue/">article</a> about hasOwnProperty function</p>

<hr>

<h2>check if a property is enumerable (propertyIsEnumerable)</h2>

<p>```
var o = { a:1 }</p>

<p>o.propertyIsEnumerable( 'a' ); // is: true</p>

<p>[].propertyIsEnumerable( 'splice' ); // is: false
```</p>

<hr>

<h2>find the getter/setter function of an object ( lookup getter )</h2>

<p>```
function test() {</p>

<pre><code>this.x getter = function(){ Print( 'getter' ) }
this.x setter = function(){ Print( 'setter' ) }
</code></pre>

<p>}</p>

<p>var t = new test
Print( t.<strong>lookupGetter</strong>( 'x' ) );
<code>
prints:
</code>
function () {
    Print("getter");
}
```</p>

<hr>

<h2>suppress array element while iterating it</h2>

<p>the following example will failed :
```
var a = [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ];
for ( var i in a ) {</p>

<pre><code>if ( a[i] == 1 || a[i] == 2 )
a.splice( i, 1 );
</code></pre>

<p>}
Print( a ); // prints: 0,2,3,4,5,6,7,8,9
Print( a.length ); // prints: 9
```</p>

<p>We can use : <code>a[i] == undefined;</code>
Or start from the end :
```
var a = [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 ];</p>

<p>for ( var i = a.length - 1; i &gt;= 0; i-- ) {</p>

<pre><code>if ( a[i] == 0 || a[i] == 8 )
a.splice( i, 1 );
</code></pre>

<p>}
Print( a ); // prints: 1,2,3,4,5,6,7,9
Print( a.length ); // prints: 8
```</p>

<hr>

<h2>JavaScript arrays</h2>

<p>```
var a = [ 1,2,3 ];
a.x = 'xxx';</p>

<p>for ( var i = 0; i &lt; a.length; i++ )
    Print('a: '+a[i]);</p>

<p>for ( var i in a )
    Print('b: '+a[i]);
<code>
prints:
</code>
a: 1
a: 2
a: 3
b: 1
b: 2
b: 3
b: xxx
```</p>

<hr>

<h2>delete array element</h2>

<p><img src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/warning.png" alt="http://jslibs.googlecode.com/svn/wiki/warning.png" title=""> The following do not work:
<code>
var ti = [5,6,7,8];
ti.length // is: 4
delete ti[3]
ti.length // is: 4
</code></p>

<p>Use 'splice' instead:
<code>
ti.splice(3, 1);
</code></p>

<hr>

<p><img src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/vspace.png" alt="http://jslibs.googlecode.com/svn/wiki/vspace.png" title=""></p>

<p><img src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/vspace.png" alt="http://jslibs.googlecode.com/svn/wiki/vspace.png" title=""></p>

<p>| <img src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/counter.php" alt="http://c25.statcounter.com/counter.php?sc_project=2492374&amp;java=0&amp;security=5656caab&amp;invisible=0&amp;.png" title=""> |  <sub>visitors since 2007.04.25</sub></p></markdown-widget>
        </div><!-- end ngIf: !wikiCtrl.error -->
      </div>
    </div>
  </div>
</div>
</div></div>
    <noscript>
      <p>The Google Code Archive requires JavaScript to be enabled in your browser.</p>
    </noscript>

    <div id="maia-signature"></div>
    <div class="maia-footer" id="maia-footer">
      <div id="maia-footer-local">
      </div>
      <div id="maia-footer-global">
        <div class="maia-aux">
          <ul>
            <li>
              <a href="https://www.google.com/">Google</a>
            </li>
            <li>
              <a href="https://www.google.com/intl/en/about/">About Google</a>
            </li>
            <li>
              <a href="https://www.google.com/intl/en/policies/privacy/">Privacy</a>
            </li>
            <li>
              <a href="https://www.google.com/intl/en/policies/terms/">Terms</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <script src="./Google Code Archive - Long-term storage for Google Code Project Hosting._files/maia.js.download"></script>
  


</body></html>